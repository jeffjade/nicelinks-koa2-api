webpackJsonp([1],{406:function(e,i,t){t(470);var n=t(3)(t(472),t(493),null,null);e.exports=n.exports},421:function(e,i,t){i.f=t(7)},422:function(e,i,t){var n=t(8),r=t(9),o=t(65),a=t(421),p=t(20).f;e.exports=function(e){var i=r.Symbol||(r.Symbol=o?{}:n.Symbol||{});"_"==e.charAt(0)||e in i||p(i,e,{value:a.f(e)})}},424:function(e,i,t){var n=t(111),r=t(67).concat("length","prototype");i.f=Object.getOwnPropertyNames||function(e){return n(e,r)}},470:function(e,i,t){var n=t(471);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);t(402)("24522059",n,!0)},471:function(e,i,t){(e.exports=t(401)()).push([e.i,"\n.update-avatar-area {\n  width: 200px;\n  text-align: center;\n  margin: auto;\n}\n.update-avatar-area .preview-avatar {\n    border: 1px solid #d1dbe5;\n    border-radius: 50%;\n}\n",""])},472:function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t(34),r=t.n(n),o=t(473),a=t.n(o);i.default={name:"Setting",components:{UploadAvatar:a.a},data:function(){return{tipMessageObj:{},isLoading:!1,fillForm:{_id:"",email:"",username:"",profile:{nickname:"",website:"",description:""}},rules:{"profile.nickname":[{required:!1,validator:this.isTheLegalNick,trigger:"change,blur"}],"profile.website":[{required:!1,validator:this.isTheLegalUrl,trigger:"change,blur"}]},isShowUploadAvatar:!1,params:{token:"131421",name:"avatar"},headers:{imgname:"",username:""},imgDataUrl:"https://image.nicelinks.site/default-avatar.jpeg"}},mounted:function(){this.initFetch()},methods:{initFetch:function(){var e=this;this.$apis.getProfile({_id:this.userInfo._id}).then(function(i){r()(e.fillForm,i);var t=new Date(e.$util.getCurrentDate()).Format("yyyy-MM-dd"),n=e.$util.getCurrentDateHMS();i.profile.avatar&&(e.imgDataUrl="/api/avatar/"+i.profile.avatar),e.headers.imgname=[t,n,e.userInfo._id].join("-"),e.headers.username=e.userInfo.username||""}).catch(function(i){e.errorAletTip("Err: "+i,"error"),e.isLoading=!1})},errorAletTip:function(e,i){var t=this;this.tipMessageObj={message:e,type:i},setTimeout(function(){t.tipMessageObj={}},2e3)},isTheLegalNick:function(e,i,t){i&&!this.$util.isLegalNick(i)?t(new Error(this.$t("enterLegalNick"))):t()},isTheLegalUrl:function(e,i,t){i&&!this.$util.isLegalUrl(i)?t(new Error(this.$t("enterLegalUrl"))):t()},onSaveClick:function(){var e=this;this.$refs.fillForm.validate(function(i){if(i){e.isLoading=!0;var t=e.$_.cloneDeep(e.fillForm);delete t.username,e.$apis.setProfile(t).then(function(i){e.$message({message:i,type:"success"})}).catch(function(i){e.errorAletTip(i,"error")}).finally(function(){e.isLoading=!1})}})},onUpdateAvatarClick:function(){this.isShowUploadAvatar=!0},onCropSuccess:function(e){this.imgDataUrl=e},onCropUploadFail:function(){},onCropUploadSuccess:function(e){this.imgDataUrl="/api/avatar/"+e}},locales:{en:{enterLegalNick:"Please enter 3 ~ 15 arbitrary characters."},zh:{enterLegalNick:"请输入 3 ～ 15 位任意字符"}}}},473:function(e,i,t){t(474);var n=t(3)(t(476),t(492),null,null);e.exports=n.exports},474:function(e,i,t){var n=t(475);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);t(402)("cacc0e10",n,!0)},475:function(e,i,t){(e.exports=t(401)()).push([e.i,"\n@charset \"UTF-8\";\n@keyframes vicp_progress {\n0% {\n    background-position-y: 0;\n}\n100% {\n    background-position-y: 40px;\n}\n}\n@keyframes vicp {\n0% {\n    opacity: 0;\n    transform: scale(0) translatey(-60px);\n}\n100% {\n    opacity: 1;\n    transform: scale(1) translatey(0);\n}\n}\n.vue-image-crop-upload {\n  position: fixed;\n  display: block;\n  box-sizing: border-box;\n  z-index: 10000;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.65);\n  -webkit-tap-highlight-color: transparent;\n  -moz-tap-highlight-color: transparent;\n}\n.vue-image-crop-upload .vicp-wrap {\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.23);\n  position: fixed;\n  display: block;\n  box-sizing: border-box;\n  z-index: 10000;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  margin: auto;\n  width: 600px;\n  height: 330px;\n  padding: 25px;\n  background-color: #fff;\n  border-radius: 2px;\n  animation: vicp 0.12s ease-in;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-close {\n  position: absolute;\n  right: -30px;\n  top: -30px;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-close .vicp-icon4 {\n  position: relative;\n  display: block;\n  width: 30px;\n  height: 30px;\n  cursor: pointer;\n  transition: transform 0.18s;\n  transform: rotate(0);\n}\n.vue-image-crop-upload .vicp-wrap .vicp-close .vicp-icon4::after, .vue-image-crop-upload .vicp-wrap .vicp-close .vicp-icon4::before {\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.23);\n  content: '';\n  position: absolute;\n  top: 12px;\n  left: 4px;\n  width: 20px;\n  height: 3px;\n  transform: rotate(45deg);\n  background-color: #fff;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-close .vicp-icon4::after {\n  transform: rotate(-45deg);\n}\n.vue-image-crop-upload .vicp-wrap .vicp-close .vicp-icon4:hover {\n  transform: rotate(90deg);\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step1 .vicp-drop-area {\n  position: relative;\n  box-sizing: border-box;\n  padding: 35px;\n  height: 170px;\n  background-color: rgba(0, 0, 0, 0.03);\n  text-align: center;\n  border: 1px dashed rgba(0, 0, 0, 0.08);\n  overflow: hidden;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step1 .vicp-drop-area .vicp-icon1 {\n  display: block;\n  margin: 0 auto 6px;\n  width: 42px;\n  height: 42px;\n  overflow: hidden;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step1 .vicp-drop-area .vicp-icon1 .vicp-icon1-arrow {\n  display: block;\n  margin: 0 auto;\n  width: 0;\n  height: 0;\n  border-bottom: 14.7px solid rgba(0, 0, 0, 0.3);\n  border-left: 14.7px solid transparent;\n  border-right: 14.7px solid transparent;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step1 .vicp-drop-area .vicp-icon1 .vicp-icon1-body {\n  display: block;\n  width: 12.6px;\n  height: 14.7px;\n  margin: 0 auto;\n  background-color: rgba(0, 0, 0, 0.3);\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step1 .vicp-drop-area .vicp-icon1 .vicp-icon1-bottom {\n  box-sizing: border-box;\n  display: block;\n  height: 12.6px;\n  border: 6px solid rgba(0, 0, 0, 0.3);\n  border-top: none;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step1 .vicp-drop-area .vicp-hint {\n  display: block;\n  padding: 15px;\n  font-size: 14px;\n  color: #666;\n  line-height: 30px;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step1 .vicp-drop-area .vicp-no-supported-hint {\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  padding: 30px;\n  width: 100%;\n  height: 60px;\n  line-height: 30px;\n  background-color: #eee;\n  text-align: center;\n  color: #666;\n  font-size: 14px;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step1 .vicp-drop-area:hover {\n  cursor: pointer;\n  border-color: rgba(0, 0, 0, 0.1);\n  background-color: rgba(0, 0, 0, 0.05);\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop {\n  overflow: hidden;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left {\n  float: left;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-img-container {\n  position: relative;\n  display: block;\n  width: 240px;\n  height: 180px;\n  background-color: #e5e5e0;\n  overflow: hidden;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-img-container .vicp-img {\n  position: absolute;\n  display: block;\n  cursor: move;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-img-container .vicp-img-shade {\n  box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.18);\n  position: absolute;\n  background-color: rgba(241, 242, 243, 0.8);\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-img-container .vicp-img-shade.vicp-img-shade-1 {\n  top: 0;\n  left: 0;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-img-container .vicp-img-shade.vicp-img-shade-2 {\n  bottom: 0;\n  right: 0;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range {\n  position: relative;\n  margin: 30px 0;\n  width: 240px;\n  height: 18px;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon5,\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon6 {\n  position: absolute;\n  top: 0;\n  width: 18px;\n  height: 18px;\n  border-radius: 100%;\n  background-color: rgba(0, 0, 0, 0.08);\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon5:hover,\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon6:hover {\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12);\n  cursor: pointer;\n  background-color: rgba(0, 0, 0, 0.14);\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon5 {\n  left: 0;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon5::before {\n  position: absolute;\n  content: '';\n  display: block;\n  left: 3px;\n  top: 8px;\n  width: 12px;\n  height: 2px;\n  background-color: #fff;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon6 {\n  right: 0;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon6::before {\n  position: absolute;\n  content: '';\n  display: block;\n  left: 3px;\n  top: 8px;\n  width: 12px;\n  height: 2px;\n  background-color: #fff;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon6::after {\n  position: absolute;\n  content: '';\n  display: block;\n  top: 3px;\n  left: 8px;\n  width: 2px;\n  height: 12px;\n  background-color: #fff;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range] {\n  display: block;\n  padding-top: 5px;\n  margin: 0 auto;\n  width: 180px;\n  height: 8px;\n  vertical-align: top;\n  background: transparent;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  cursor: pointer;\n  /* 滑块\n               ---------------------------------------------------------------*/\n  /* 轨道\n               ---------------------------------------------------------------*/\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]:focus {\n  outline: none;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]::-webkit-slider-thumb {\n  box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.18);\n  -webkit-appearance: none;\n  appearance: none;\n  margin-top: -3px;\n  width: 12px;\n  height: 12px;\n  background-color: #61c091;\n  border-radius: 100%;\n  border: none;\n  transition: 0.2s;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]::-moz-range-thumb {\n  box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.18);\n  -moz-appearance: none;\n  appearance: none;\n  width: 12px;\n  height: 12px;\n  background-color: #61c091;\n  border-radius: 100%;\n  border: none;\n  transition: 0.2s;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]::-ms-thumb {\n  box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.18);\n  appearance: none;\n  width: 12px;\n  height: 12px;\n  background-color: #61c091;\n  border: none;\n  border-radius: 100%;\n  transition: 0.2s;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]:active::-moz-range-thumb {\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.23);\n  width: 14px;\n  height: 14px;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]:active::-ms-thumb {\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.23);\n  width: 14px;\n  height: 14px;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]:active::-webkit-slider-thumb {\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.23);\n  margin-top: -4px;\n  width: 14px;\n  height: 14px;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]::-webkit-slider-runnable-track {\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12);\n  width: 100%;\n  height: 6px;\n  cursor: pointer;\n  border-radius: 2px;\n  border: none;\n  background-color: rgba(68, 170, 119, 0.3);\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]::-moz-range-track {\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12);\n  width: 100%;\n  height: 6px;\n  cursor: pointer;\n  border-radius: 2px;\n  border: none;\n  background-color: rgba(68, 170, 119, 0.3);\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]::-ms-track {\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12);\n  width: 100%;\n  cursor: pointer;\n  background: transparent;\n  border-color: transparent;\n  color: transparent;\n  height: 6px;\n  border-radius: 2px;\n  border: none;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]::-ms-fill-lower {\n  background-color: rgba(68, 170, 119, 0.3);\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]::-ms-fill-upper {\n  background-color: rgba(68, 170, 119, 0.15);\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]:focus::-webkit-slider-runnable-track {\n  background-color: rgba(68, 170, 119, 0.5);\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]:focus::-moz-range-track {\n  background-color: rgba(68, 170, 119, 0.5);\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]:focus::-ms-fill-lower {\n  background-color: rgba(68, 170, 119, 0.45);\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]:focus::-ms-fill-upper {\n  background-color: rgba(68, 170, 119, 0.25);\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-right {\n  float: right;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-right .vicp-preview {\n  height: 150px;\n  overflow: hidden;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-right .vicp-preview .vicp-preview-item {\n  position: relative;\n  padding: 5px;\n  width: 100px;\n  height: 100px;\n  float: left;\n  margin-right: 16px;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-right .vicp-preview .vicp-preview-item span {\n  position: absolute;\n  bottom: -30px;\n  width: 100%;\n  font-size: 14px;\n  color: #bbb;\n  display: block;\n  text-align: center;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-right .vicp-preview .vicp-preview-item img {\n  position: absolute;\n  display: block;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  margin: auto;\n  padding: 3px;\n  background-color: #fff;\n  border: 1px solid rgba(0, 0, 0, 0.15);\n  overflow: hidden;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-right .vicp-preview .vicp-preview-item:nth-child(2) {\n  margin-right: 0;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-right .vicp-preview .vicp-preview-item:nth-child(2) img {\n  border-radius: 100%;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step3 .vicp-upload {\n  position: relative;\n  box-sizing: border-box;\n  padding: 35px;\n  height: 170px;\n  background-color: rgba(0, 0, 0, 0.03);\n  text-align: center;\n  border: 1px dashed #ddd;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step3 .vicp-upload .vicp-loading {\n  display: block;\n  padding: 15px;\n  font-size: 16px;\n  color: #999;\n  line-height: 30px;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step3 .vicp-upload .vicp-progress-wrap {\n  margin-top: 12px;\n  background-color: rgba(0, 0, 0, 0.08);\n  border-radius: 3px;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step3 .vicp-upload .vicp-progress-wrap .vicp-progress {\n  position: relative;\n  display: block;\n  height: 5px;\n  border-radius: 3px;\n  background-color: #4a7;\n  box-shadow: 0 2px 6px 0 rgba(68, 170, 119, 0.3);\n  transition: width 0.15s linear;\n  background-image: linear-gradient(-45deg, rgba(255, 255, 255, 0.2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.2) 50%, rgba(255, 255, 255, 0.2) 75%, transparent 75%, transparent);\n  background-size: 40px 40px;\n  animation: vicp_progress 0.5s linear infinite;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step3 .vicp-upload .vicp-progress-wrap .vicp-progress::after {\n  content: '';\n  position: absolute;\n  display: block;\n  top: -3px;\n  right: -3px;\n  width: 9px;\n  height: 9px;\n  border: 1px solid rgba(245, 246, 247, 0.7);\n  box-shadow: 0 1px 4px 0 rgba(68, 170, 119, 0.7);\n  border-radius: 100%;\n  background-color: #4a7;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step3 .vicp-upload .vicp-error,\n.vue-image-crop-upload .vicp-wrap .vicp-step3 .vicp-upload .vicp-success {\n  height: 100px;\n  line-height: 100px;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-operate {\n  position: absolute;\n  right: 20px;\n  bottom: 20px;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-operate a {\n  position: relative;\n  float: left;\n  display: block;\n  margin-left: 10px;\n  width: 100px;\n  height: 36px;\n  line-height: 36px;\n  text-align: center;\n  cursor: pointer;\n  font-size: 14px;\n  color: #4a7;\n  border-radius: 2px;\n  overflow: hidden;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-operate a:hover {\n  background-color: rgba(0, 0, 0, 0.03);\n}\n.vue-image-crop-upload .vicp-wrap .vicp-error,\n.vue-image-crop-upload .vicp-wrap .vicp-success {\n  display: block;\n  font-size: 14px;\n  line-height: 24px;\n  height: 24px;\n  color: #d10;\n  text-align: center;\n  vertical-align: top;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-success {\n  color: #4a7;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-icon3 {\n  position: relative;\n  display: inline-block;\n  width: 20px;\n  height: 20px;\n  top: 4px;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-icon3::after {\n  position: absolute;\n  top: 3px;\n  left: 6px;\n  width: 6px;\n  height: 10px;\n  border-width: 0 2px 2px 0;\n  border-color: #4a7;\n  border-style: solid;\n  transform: rotate(45deg);\n  content: '';\n}\n.vue-image-crop-upload .vicp-wrap .vicp-icon2 {\n  position: relative;\n  display: inline-block;\n  width: 20px;\n  height: 20px;\n  top: 4px;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-icon2::after, .vue-image-crop-upload .vicp-wrap .vicp-icon2::before {\n  content: '';\n  position: absolute;\n  top: 9px;\n  left: 4px;\n  width: 13px;\n  height: 2px;\n  background-color: #d10;\n  transform: rotate(45deg);\n}\n.vue-image-crop-upload .vicp-wrap .vicp-icon2::after {\n  transform: rotate(-45deg);\n}\n.e-ripple {\n  position: absolute;\n  border-radius: 100%;\n  background-color: rgba(0, 0, 0, 0.15);\n  background-clip: padding-box;\n  pointer-events: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  transform: scale(0);\n  opacity: 1;\n}\n.e-ripple.z-active {\n  opacity: 0;\n  transform: scale(2);\n  transition: opacity 1.2s ease-out, transform 0.6s ease-out;\n}\n@media screen and (max-width: 960px) {\n.main .vue-image-crop-upload .vicp-wrap {\n    position: absolute;\n    width: 100%;\n    height: 90%;\n    max-height: 500px;\n}\n.main .vue-image-crop-upload .vicp-wrap .vicp-crop .vicp-crop-left {\n      float: none;\n}\n.main .vue-image-crop-upload .vicp-wrap .vicp-crop .vicp-crop-left .vicp-img-container {\n        height: 180px;\n        margin: auto;\n}\n.main .vue-image-crop-upload .vicp-wrap .vicp-crop .vicp-crop-right {\n      float: none;\n}\n.main .vue-image-crop-upload .vicp-wrap .vicp-crop .vicp-crop-right .vicp-preview {\n        margin: auto;\n        width: 100%;\n        height: 130px;\n}\n.main .vue-image-crop-upload .vicp-wrap .vicp-crop .vicp-crop-right .vicp-preview .vicp-preview-item {\n          display: inline-block;\n          float: none;\n          margin: auto;\n}\n}\n",""])},476:function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t(110),r=t.n(n),o=t(477),a=t.n(o),p=t(113),c=t.n(p),s=t(34),l=t.n(s),u=t(491),v=u.a.getLangConf(),d={jpg:"image/jpeg",png:"image/png",gif:"image/gif",svg:"image/svg+xml",psd:"image/photoshop"};i.default={name:"UploadAvatar",props:{field:{type:String,default:"avatar"},ki:{default:0},value:{default:!0},url:{type:String,default:""},params:{type:Object,default:null},headers:{type:Object,default:null},width:{type:Number,default:200},height:{type:Number,default:200},noCircle:{type:Boolean,default:!1},maxSize:{type:Number,default:10240},langType:{type:String,default:"zh"},langExt:{type:Object,default:null},imgFormat:{type:String,default:"png"}},data:function(){var e=this,i=e.imgFormat,t=e.langType,n=e.langExt,r=e.width,o=e.height,a=!0,p=-1===["jpg","png"].indexOf(i)?"jpg":i,c=v[t]?v[t]:v.en,s=d[p];return e.imgFormat=p,n&&l()(c,n),"function"!=typeof FormData&&(a=!1),{mime:s,lang:c,isSupported:a,isSupportTouch:document.hasOwnProperty("ontouchstart"),step:1,loading:0,progress:0,hasError:!1,errorMsg:"",ratio:r/o,sourceImg:null,sourceImgUrl:"",createImgUrl:"",imgData:"",sourceImgMouseDown:{on:!1,mX:0,mY:0,x:0,y:0},previewContainer:{width:100,height:100},sourceImgContainer:{width:240,height:180},scale:{zoomAddOn:!1,zoomSubOn:!1,range:1,x:0,y:0,width:0,height:0,maxWidth:0,maxHeight:0,minWidth:0,minHeight:0,naturalWidth:0,naturalHeight:0}}},computed:{progressStyle:function(){return{width:this.progress+"%"}},sourceImgStyle:function(){var e=this.scale,i=this.sourceImgMasking;return{top:e.y+i.y+"px",left:e.x+i.x+"px",width:e.width+"px",height:e.height+"px"}},sourceImgMasking:function(){var e=this.width,i=this.height,t=this.ratio,n=this.sourceImgContainer,r=n.width/n.height,o=0,a=0,p=n.width,c=n.height,s=1;return t<r&&(s=n.height/i,p=n.height*t,o=(n.width-p)/2),t>r&&(s=n.width/e,c=n.width/t,a=(n.height-c)/2),{scale:s,x:o,y:a,width:p,height:c}},sourceImgShadeStyle:function(){var e=this.sourceImgMasking,i=this.sourceImgContainer,t=e;return{width:(t.width===i.width?t.width:(i.width-t.width)/2)+"px",height:(t.height===i.height?t.height:(i.height-t.height)/2)+"px"}},previewStyle:function(){this.width,this.height;var e=this.ratio,i=this.previewContainer,t=i.width,n=i.height,r=t/n;return e<r&&(t=i.height*e),e>r&&(n=i.width/e),{width:t+"px",height:n+"px"}}},watch:{value:function(e){e&&1!==this.loading&&this.reset()}},methods:{ripple:function(e){u.a.effectRipple(e)},off:function(){var e=this;setTimeout(function(){e.$emit("input",!1),3===e.step&&2===e.loading&&e.setStep(1)},200)},setStep:function(e){var i=this;setTimeout(function(){i.step=e},200)},preventDefault:function(e){return e.preventDefault(),!1},handleClick:function(e){1!==this.loading&&e.target!==this.$refs.fileinput&&(e.preventDefault(),document.activeElement!==this.$refs&&this.$refs.fileinput.click())},handleChange:function(e){if(e.preventDefault(),1!==this.loading){var i=e.target.files||e.dataTransfer.files;this.reset(),this.checkFile(i[0])&&this.setSourceImg(i[0])}},checkFile:function(e){var i=this,t=i.lang,n=i.maxSize;return-1===e.type.indexOf("image")?(i.hasError=!0,i.errorMsg=t.error.onlyImg,!1):!(e.size/1024>n)||(i.hasError=!0,i.errorMsg=t.error.outOfSize+n+"kb",!1)},reset:function(){this.loading=0,this.hasError=!1,this.errorMsg="",this.progress=0},setSourceImg:function(e){var i=this,t=new FileReader;t.onload=function(e){i.sourceImgUrl=t.result,i.startCrop()},t.readAsDataURL(e)},startCrop:function(){var e=this,i=e.width,t=e.height,n=e.ratio,r=e.scale,o=e.sourceImgUrl,a=e.sourceImgMasking,p=e.lang,c=a,s=new Image;s.src=o,s.onload=function(){var o=s.naturalWidth,a=s.naturalHeight,l=o/a,u=c.width,v=c.height,d=0,g=0;if(o<i||a<t)return e.hasError=!0,e.errorMsg=p.error.lowestPx+i+"*"+t,!1;n>l&&(v=u/l,g=(c.height-v)/2),n<l&&(u=v*l,d=(c.width-u)/2),r.range=0,r.x=d,r.y=g,r.width=u,r.height=v,r.minWidth=u,r.minHeight=v,r.maxWidth=o*c.scale,r.maxHeight=a*c.scale,r.naturalWidth=o,r.naturalHeight=a,e.sourceImg=s,e.createImg(),e.setStep(2)}},imgStartMove:function(e){if(e.preventDefault(),this.isSupportTouch&&!e.targetTouches)return!1;var i=e.targetTouches?e.targetTouches[0]:e,t=this.sourceImgMouseDown,n=this.scale,r=t;r.mX=i.screenX,r.mY=i.screenY,r.x=n.x,r.y=n.y,r.on=!0},imgMove:function(e){if(e.preventDefault(),this.isSupportTouch&&!e.targetTouches)return!1;var i=e.targetTouches?e.targetTouches[0]:e,t=this.sourceImgMouseDown,n=t.on,r=t.mX,o=t.mY,a=t.x,p=t.y,c=this.scale,s=this.sourceImgMasking,l=a+(i.screenX-r),u=p+(i.screenY-o);n&&(l>0&&(l=0),u>0&&(u=0),l<s.width-c.width&&(l=s.width-c.width),u<s.height-c.height&&(u=s.height-c.height),c.x=l,c.y=u)},startZoomAdd:function(e){function i(){if(n.zoomAddOn){var e=n.range>=100?100:++n.range;t.zoomImg(e),setTimeout(function(){i()},60)}}var t=this,n=t.scale;n.zoomAddOn=!0,i()},endZoomAdd:function(e){this.scale.zoomAddOn=!1},startZoomSub:function(e){function i(){if(n.zoomSubOn){var e=n.range<=0?0:--n.range;t.zoomImg(e),setTimeout(function(){i()},60)}}var t=this,n=t.scale;n.zoomSubOn=!0,i()},endZoomSub:function(e){this.scale.zoomSubOn=!1},zoomChange:function(e){this.zoomImg(e.target.value)},zoomImg:function(e){var i=this,t=this.sourceImgMasking,n=(this.sourceImgMouseDown,this.scale),r=n.maxWidth,o=n.maxHeight,a=n.minWidth,p=n.minHeight,c=n.width,s=n.height,l=n.x,u=n.y,v=(n.range,t),d=v.width,g=v.height,h=a+(r-a)*e/100,m=p+(o-p)*e/100,f=d/2-h/c*(d/2-l),b=g/2-m/s*(g/2-u);f>0&&(f=0),b>0&&(b=0),f<d-h&&(f=d-h),b<g-m&&(b=g-m),n.x=f,n.y=b,n.width=h,n.height=m,n.range=e,setTimeout(function(){n.range===e&&i.createImg()},300)},createImg:function(e){var i=this,t=i.mime,n=i.sourceImg,r=i.scale,o=r.x,a=r.y,p=r.width,c=r.height,s=i.sourceImgMasking.scale,l=i.$refs.canvas,u=l.getContext("2d");e&&(i.sourceImgMouseDown.on=!1),u.clearRect(0,0,i.width,i.height),u.drawImage(n,o/s,a/s,p/s,c/s),i.createImgUrl=l.toDataURL(t)},prepareUpload:function(){var e=this.url,i=this.createImgUrl,t=this.field,n=this.ki;this.$emit("crop-success",i,t,n),"string"==typeof e&&e?this.upload():this.off()},upload:function(){var e=this,i=this,t=this.lang,n=(this.imgFormat,this.mime),o=(this.url,this.params,this.headers),p=this.field,s=this.ki,l=this.createImgUrl;this.imgData=new FormData;var v=u.a.dataURItoBlob(l,n);this.imgData.append("file",v),this.imgData.append("user",this.userInfo._id||"");var d=function(e){e.lengthComputable&&(i.progress=100*Math.round(e.loaded)/e.total)};i.reset(),i.loading=1,i.setStep(3),new c.a(function(i,t){var n=new XMLHttpRequest;n.open("POST","/api/updateAvatar",!0),n.onreadystatechange=function(e){200===this.status||201===this.status?i(o.imgname):t(this.status)},n.upload.addEventListener("progress",d,!1),"object"===(void 0===o?"undefined":a()(o))&&o&&r()(o).forEach(function(e){n.setRequestHeader(e,o[e])});e.userInfo._id,e.imgData;n.send(e.imgData)}).then(function(t){i.value&&(i.loading=2,i.reset(),e.$message({type:"success",message:"成功更新头像"}),i.$emit("crop-upload-success",t,p,s))},function(e){i.value&&(i.loading=3,i.reset(),i.hasError=!0,i.errorMsg=t.fail,i.$emit("crop-upload-fail",e,p,s))})}},created:function(){var e=this;document.addEventListener("keyup",function(i){!e.value||"Escape"!==i.key&&27!==i.keyCode||e.off()})}}},477:function(e,i,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}i.__esModule=!0;var r=n(t(478)),o=n(t(480)),a="function"==typeof o.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":typeof e};i.default="function"==typeof o.default&&"symbol"===a(r.default)?function(e){return void 0===e?"undefined":a(e)}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":void 0===e?"undefined":a(e)}},478:function(e,i,t){e.exports={default:t(479),__esModule:!0}},479:function(e,i,t){t(115),t(118),e.exports=t(421).f("iterator")},480:function(e,i,t){e.exports={default:t(481),__esModule:!0}},481:function(e,i,t){t(482),t(114),t(489),t(490),e.exports=t(9).Symbol},482:function(e,i,t){"use strict";var n=t(8),r=t(19),o=t(17),a=t(23),p=t(116),c=t(483).KEY,s=t(21),l=t(66),u=t(37),v=t(63),d=t(7),g=t(421),h=t(422),m=t(484),f=t(485),b=t(486),w=t(14),x=t(35),y=t(108),k=t(64),_=t(117),C=t(487),S=t(488),I=t(20),z=t(36),O=S.f,F=I.f,M=C.f,U=n.Symbol,D=n.JSON,N=D&&D.stringify,E=d("_hidden"),A=d("toPrimitive"),T={}.propertyIsEnumerable,j=l("symbol-registry"),P=l("symbols"),$=l("op-symbols"),L=Object.prototype,R="function"==typeof U,W=n.QObject,H=!W||!W.prototype||!W.prototype.findChild,Z=o&&s(function(){return 7!=_(F({},"a",{get:function(){return F(this,"a",{value:7}).a}})).a})?function(e,i,t){var n=O(L,i);n&&delete L[i],F(e,i,t),n&&e!==L&&F(L,i,n)}:F,B=function(e){var i=P[e]=_(U.prototype);return i._k=e,i},Y=R&&"symbol"==typeof U.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof U},X=function(e,i,t){return e===L&&X($,i,t),w(e),i=y(i,!0),w(t),r(P,i)?(t.enumerable?(r(e,E)&&e[E][i]&&(e[E][i]=!1),t=_(t,{enumerable:k(0,!1)})):(r(e,E)||F(e,E,k(1,{})),e[E][i]=!0),Z(e,i,t)):F(e,i,t)},q=function(e,i){w(e);for(var t,n=f(i=x(i)),r=0,o=n.length;o>r;)X(e,t=n[r++],i[t]);return e},J=function(e){var i=T.call(this,e=y(e,!0));return!(this===L&&r(P,e)&&!r($,e))&&(!(i||!r(this,e)||!r(P,e)||r(this,E)&&this[E][e])||i)},K=function(e,i){if(e=x(e),i=y(i,!0),e!==L||!r(P,i)||r($,i)){var t=O(e,i);return!t||!r(P,i)||r(e,E)&&e[E][i]||(t.enumerable=!0),t}},G=function(e){for(var i,t=M(x(e)),n=[],o=0;t.length>o;)r(P,i=t[o++])||i==E||i==c||n.push(i);return n},Q=function(e){for(var i,t=e===L,n=M(t?$:x(e)),o=[],a=0;n.length>a;)!r(P,i=n[a++])||t&&!r(L,i)||o.push(P[i]);return o};R||(p((U=function(){if(this instanceof U)throw TypeError("Symbol is not a constructor!");var e=v(arguments.length>0?arguments[0]:void 0),i=function(t){this===L&&i.call($,t),r(this,E)&&r(this[E],e)&&(this[E][e]=!1),Z(this,e,k(1,t))};return o&&H&&Z(L,e,{configurable:!0,set:i}),B(e)}).prototype,"toString",function(){return this._k}),S.f=K,I.f=X,t(424).f=C.f=G,t(107).f=J,t(109).f=Q,o&&!t(65)&&p(L,"propertyIsEnumerable",J,!0),g.f=function(e){return B(d(e))}),a(a.G+a.W+a.F*!R,{Symbol:U});for(var V="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;V.length>ee;)d(V[ee++]);for(var V=z(d.store),ee=0;V.length>ee;)h(V[ee++]);a(a.S+a.F*!R,"Symbol",{for:function(e){return r(j,e+="")?j[e]:j[e]=U(e)},keyFor:function(e){if(Y(e))return m(j,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){H=!0},useSimple:function(){H=!1}}),a(a.S+a.F*!R,"Object",{create:function(e,i){return void 0===i?_(e):q(_(e),i)},defineProperty:X,defineProperties:q,getOwnPropertyDescriptor:K,getOwnPropertyNames:G,getOwnPropertySymbols:Q}),D&&a(a.S+a.F*(!R||s(function(){var e=U();return"[null]"!=N([e])||"{}"!=N({a:e})||"{}"!=N(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!Y(e)){for(var i,t,n=[e],r=1;arguments.length>r;)n.push(arguments[r++]);return"function"==typeof(i=n[1])&&(t=i),!t&&b(i)||(i=function(e,i){if(t&&(i=t.call(this,e,i)),!Y(i))return i}),n[1]=i,N.apply(D,n)}}}),U.prototype[A]||t(13)(U.prototype,A,U.prototype.valueOf),u(U,"Symbol"),u(Math,"Math",!0),u(n.JSON,"JSON",!0)},483:function(e,i,t){var n=t(63)("meta"),r=t(24),o=t(19),a=t(20).f,p=0,c=Object.isExtensible||function(){return!0},s=!t(21)(function(){return c(Object.preventExtensions({}))}),l=function(e){a(e,n,{value:{i:"O"+ ++p,w:{}}})},u=e.exports={KEY:n,NEED:!1,fastKey:function(e,i){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,n)){if(!c(e))return"F";if(!i)return"E";l(e)}return e[n].i},getWeak:function(e,i){if(!o(e,n)){if(!c(e))return!0;if(!i)return!1;l(e)}return e[n].w},onFreeze:function(e){return s&&u.NEED&&c(e)&&!o(e,n)&&l(e),e}}},484:function(e,i,t){var n=t(36),r=t(35);e.exports=function(e,i){for(var t,o=r(e),a=n(o),p=a.length,c=0;p>c;)if(o[t=a[c++]]===i)return t}},485:function(e,i,t){var n=t(36),r=t(109),o=t(107);e.exports=function(e){var i=n(e),t=r.f;if(t)for(var a,p=t(e),c=o.f,s=0;p.length>s;)c.call(e,a=p[s++])&&i.push(a);return i}},486:function(e,i,t){var n=t(22);e.exports=Array.isArray||function(e){return"Array"==n(e)}},487:function(e,i,t){var n=t(35),r=t(424).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],p=function(e){try{return r(e)}catch(e){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?p(e):r(n(e))}},488:function(e,i,t){var n=t(107),r=t(64),o=t(35),a=t(108),p=t(19),c=t(112),s=Object.getOwnPropertyDescriptor;i.f=t(17)?s:function(e,i){if(e=o(e),i=a(i,!0),c)try{return s(e,i)}catch(e){}if(p(e,i))return r(!n.f.call(e,i),e[i])}},489:function(e,i,t){t(422)("asyncIterator")},490:function(e,i,t){t(422)("observable")},491:function(e,i,t){"use strict";var n=t(34),r=t.n(n);i.a={dataURItoBlob:function(e){for(var i=atob(e.split(",")[1]),t=e.split(",")[0].split(":")[1].split(";")[0],n=new ArrayBuffer(i.length),r=new Uint8Array(n),o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return new Blob([n],{type:t})},getLangConf:function(){return{zh:{hint:"点击，或拖动图片至此处",loading:"正在上传……",noSupported:"浏览器不支持该功能，请使用IE10以上或其他现在浏览器！",success:"上传成功",fail:"图片上传失败",preview:"头像预览",btn:{off:"取消",close:"关闭",back:"上一步",save:"保存"},error:{onlyImg:"仅限图片格式",outOfSize:"单文件大小不能超过 ",lowestPx:"图片最低像素为（宽*高）："}},en:{hint:"Click or drag the file here to upload",loading:"Uploading…",noSupported:"Browser is not supported, please use IE10+ or other browsers",success:"Upload success",fail:"Upload failed",preview:"Preview",btn:{off:"Cancel",close:"Close",back:"Back",save:"Save"},error:{onlyImg:"Image only",outOfSize:"Image exceeds size limit: ",lowestPx:"Image's size is too low. Expected at least: "}}}},effectRipple:function(e,i){var t=r()({ele:e.target,type:"hit",bgc:"rgba(0, 0, 0, 0.15)"},i),n=t.ele;if(n){var o=n.getBoundingClientRect(),a=n.querySelector(".e-ripple");switch(a?a.className="e-ripple":((a=document.createElement("span")).className="e-ripple",a.style.height=a.style.width=Math.max(o.width,o.height)+"px",n.appendChild(a)),t.type){case"center":a.style.top=o.height/2-a.offsetHeight/2+"px",a.style.left=o.width/2-a.offsetWidth/2+"px";break;default:a.style.top=e.pageY-o.top-a.offsetHeight/2-document.body.scrollTop+"px",a.style.left=e.pageX-o.left-a.offsetWidth/2-document.body.scrollLeft+"px"}return a.style.backgroundColor=t.bgc,a.className="e-ripple z-active",!1}}}},492:function(e,i){e.exports={render:function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",{directives:[{name:"show",rawName:"v-show",value:e.value,expression:"value"}],staticClass:"vue-image-crop-upload"},[t("div",{staticClass:"vicp-wrap"},[t("div",{staticClass:"vicp-close",on:{click:e.off}},[t("i",{staticClass:"vicp-icon4"})]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:1===e.step,expression:"step === 1"}],staticClass:"vicp-step1"},[t("div",{staticClass:"vicp-drop-area",on:{dragleave:e.preventDefault,dragover:e.preventDefault,dragenter:e.preventDefault,click:e.handleClick,drop:e.handleChange}},[t("i",{directives:[{name:"show",rawName:"v-show",value:1!==e.loading,expression:"loading !== 1"}],staticClass:"vicp-icon1"},[t("i",{staticClass:"vicp-icon1-arrow"}),e._v(" "),t("i",{staticClass:"vicp-icon1-body"}),e._v(" "),t("i",{staticClass:"vicp-icon1-bottom"})]),e._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:1!==e.loading,expression:"loading !== 1"}],staticClass:"vicp-hint"},[e._v(e._s(e.lang.hint))]),e._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:!e.isSupported,expression:"!isSupported"}],staticClass:"vicp-no-supported-hint"},[e._v(e._s(e.lang.noSupported))]),e._v(" "),1===e.step?t("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"fileinput",attrs:{type:"file"},on:{change:e.handleChange}}):e._e()]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.hasError,expression:"hasError"}],staticClass:"vicp-error"},[t("i",{staticClass:"vicp-icon2"}),e._v(" "+e._s(e.errorMsg)+"\n      ")]),e._v(" "),t("div",{staticClass:"vicp-operate"},[t("a",{on:{click:e.off,mousedown:e.ripple}},[e._v(e._s(e.lang.btn.off))])])]),e._v(" "),2===e.step?t("div",{staticClass:"vicp-step2"},[t("div",{staticClass:"vicp-crop"},[t("div",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticClass:"vicp-crop-left"},[t("div",{staticClass:"vicp-img-container"},[t("img",{ref:"img",staticClass:"vicp-img",style:e.sourceImgStyle,attrs:{src:e.sourceImgUrl,draggable:"false"},on:{drag:e.preventDefault,dragstart:e.preventDefault,dragend:e.preventDefault,dragleave:e.preventDefault,dragover:e.preventDefault,dragenter:e.preventDefault,drop:e.preventDefault,touchstart:e.imgStartMove,touchmove:e.imgMove,touchend:e.createImg,touchcancel:e.createImg,mousedown:e.imgStartMove,mousemove:e.imgMove,mouseup:e.createImg,mouseout:e.createImg}}),e._v(" "),t("div",{staticClass:"vicp-img-shade vicp-img-shade-1",style:e.sourceImgShadeStyle}),e._v(" "),t("div",{staticClass:"vicp-img-shade vicp-img-shade-2",style:e.sourceImgShadeStyle})]),e._v(" "),t("div",{staticClass:"vicp-range"},[t("input",{attrs:{type:"range",step:"1",min:"0",max:"100"},domProps:{value:e.scale.range},on:{input:e.zoomChange}}),e._v(" "),t("i",{staticClass:"vicp-icon5",on:{mousedown:e.startZoomSub,mouseout:e.endZoomSub,mouseup:e.endZoomSub}}),e._v(" "),t("i",{staticClass:"vicp-icon6",on:{mousedown:e.startZoomAdd,mouseout:e.endZoomAdd,mouseup:e.endZoomAdd}})])]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticClass:"vicp-crop-right"},[t("div",{staticClass:"vicp-preview"},[t("div",{staticClass:"vicp-preview-item"},[t("img",{style:e.previewStyle,attrs:{src:e.createImgUrl}}),e._v(" "),t("span",[e._v(e._s(e.lang.preview))])]),e._v(" "),e.noCircle?e._e():t("div",{staticClass:"vicp-preview-item"},[t("img",{style:e.previewStyle,attrs:{src:e.createImgUrl}}),e._v(" "),t("span",[e._v(e._s(e.lang.preview))])])])])]),e._v(" "),t("div",{staticClass:"vicp-operate"},[t("a",{on:{click:function(i){e.setStep(1)},mousedown:e.ripple}},[e._v(e._s(e.lang.btn.back))]),e._v(" "),t("a",{staticClass:"vicp-operate-btn",on:{click:e.prepareUpload,mousedown:e.ripple}},[e._v(e._s(e.lang.btn.save))])])]):e._e(),e._v(" "),3===e.step?t("div",{staticClass:"vicp-step3"},[t("div",{staticClass:"vicp-upload"},[t("span",{directives:[{name:"show",rawName:"v-show",value:1===e.loading,expression:"loading === 1"}],staticClass:"vicp-loading"},[e._v(e._s(e.lang.loading))]),e._v(" "),t("div",{staticClass:"vicp-progress-wrap"},[t("span",{directives:[{name:"show",rawName:"v-show",value:1===e.loading,expression:"loading === 1"}],staticClass:"vicp-progress",style:e.progressStyle})]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.hasError,expression:"hasError"}],staticClass:"vicp-error"},[t("i",{staticClass:"vicp-icon2"}),e._v(" "+e._s(e.errorMsg)+"\n        ")]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:2===e.loading,expression:"loading === 2"}],staticClass:"vicp-success"},[t("i",{staticClass:"vicp-icon3"}),e._v(" "+e._s(e.lang.success)+"\n        ")])]),e._v(" "),t("div",{staticClass:"vicp-operate"},[t("a",{on:{click:function(i){e.setStep(2)},mousedown:e.ripple}},[e._v(e._s(e.lang.btn.back))]),e._v(" "),t("a",{on:{click:e.off,mousedown:e.ripple}},[e._v(e._s(e.lang.btn.close))])])]):e._e(),e._v(" "),t("canvas",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"canvas",attrs:{width:e.width,height:e.height}})])])},staticRenderFns:[]}},493:function(e,i){e.exports={render:function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",{staticClass:"wrapper",attrs:{id:"setting"}},[t("div",{directives:[{name:"loading",rawName:"v-loading.body",value:e.isLoading,expression:"isLoading",modifiers:{body:!0}}],staticClass:"panel-default"},[t("div",{staticClass:"panel-body"},[t("div",{staticClass:"main-container"},[t("div",{staticClass:"entry-list setting"},[t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",slot:"header"},[t("el-breadcrumb",{attrs:{separator:"/"}},[t("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v(e._s(e.$t("homePage")))]),e._v(" "),t("el-breadcrumb-item",[e._v(e._s(e.$t("accountSetting")))])],1)],1),e._v(" "),t("div",{staticClass:"form form-horizontal"},[t("el-form",{ref:"fillForm",attrs:{model:e.fillForm,rules:e.rules}},[t("div",{staticClass:"form-group"},[t("label",{staticClass:"col-sm-3 control-label"},[e._v(e._s(e.$t("setUsername"))),t("em",[e._v("*")]),e._v(":")]),e._v(" "),t("div",{staticClass:"col-sm-9"},[t("el-input",{directives:[{name:"model",rawName:"v-model",value:e.fillForm.username,expression:"fillForm.username"}],attrs:{placeholder:"",disabled:!0},domProps:{value:e.fillForm.username},on:{input:function(i){e.fillForm.username=i}}})],1)]),e._v(" "),t("div",{staticClass:"form-group"},[t("label",{staticClass:"col-sm-3 control-label"},[e._v(e._s(e.$t("setNickname"))+":")]),e._v(" "),t("div",{staticClass:"col-sm-9"},[t("el-form-item",{attrs:{prop:"profile.nickname"}},[t("el-input",{directives:[{name:"model",rawName:"v-model",value:e.fillForm.profile.nickname,expression:"fillForm.profile.nickname"}],attrs:{placeholder:""},domProps:{value:e.fillForm.profile.nickname},on:{input:function(i){e.fillForm.profile.nickname=i}}})],1)],1)]),e._v(" "),t("div",{staticClass:"form-group"},[t("label",{staticClass:"col-sm-3 control-label"},[e._v(e._s(e.$t("personalWebsite"))+":")]),e._v(" "),t("div",{staticClass:"col-sm-9"},[t("el-form-item",{attrs:{prop:"profile.website"}},[t("el-input",{directives:[{name:"model",rawName:"v-model",value:e.fillForm.profile.website,expression:"fillForm.profile.website"}],attrs:{placeholder:""},domProps:{value:e.fillForm.profile.website},on:{input:function(i){e.fillForm.profile.website=i}}})],1)],1)]),e._v(" "),t("div",{staticClass:"form-group"},[t("label",{staticClass:"col-sm-3 control-label"},[e._v(e._s(e.$t("profile"))+":")]),e._v(" "),t("div",{staticClass:"col-sm-9"},[t("el-input",{directives:[{name:"model",rawName:"v-model",value:e.fillForm.profile.description,expression:"fillForm.profile.description"}],attrs:{type:"textarea",autosize:{minRows:4,maxRows:6},maxlength:140,placeholder:""},domProps:{value:e.fillForm.profile.description},on:{input:function(i){e.fillForm.profile.description=i}}})],1)])])],1),e._v(" "),t("div",{staticClass:"form-group"},[t("div",{staticClass:"col-sm-offset-3 col-sm-9 no-padding"},[t("el-button",{attrs:{loading:e.isLoading,type:"primary"},on:{click:e.onSaveClick}},[e._v(e._s(e.$t("saveSeting")))])],1)]),e._v(" "),e.tipMessageObj.message?t("el-alert",{attrs:{title:e.tipMessageObj.message,type:e.tipMessageObj.type}}):e._e(),e._v(" "),t("hr"),e._v(" "),t("div",{staticClass:"form-group"},[t("div",{staticClass:"col-sm-12"},[t("div",{staticClass:"update-avatar-area"},[t("img",{staticClass:"preview-avatar",attrs:{src:e.imgDataUrl}}),e._v(" "),t("br"),e._v(" "),t("el-button",{attrs:{loading:e.isLoading,type:"text"},on:{click:e.onUpdateAvatarClick}},[e._v("\n                    "+e._s(e.$t("updateAvatar"))+"\n                  ")])],1)])])],1)],1),e._v(" "),t("aside-list")],1)])]),e._v(" "),t("upload-avatar",{directives:[{name:"model",rawName:"v-model",value:e.isShowUploadAvatar,expression:"isShowUploadAvatar"}],attrs:{field:"image",width:100,height:100,url:"/api/uploadAvatar",params:e.params,headers:e.headers,"img-format":"png"},domProps:{value:e.isShowUploadAvatar},on:{"crop-success":e.onCropSuccess,"crop-upload-success":e.onCropUploadSuccess,"crop-upload-fail":e.onCropUploadFail,input:function(i){e.isShowUploadAvatar=i}}})],1)},staticRenderFns:[]}}});