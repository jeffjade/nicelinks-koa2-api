webpackJsonp([4,8],{562:function(e,i,s){var t=s(35)(s(574),s(582),null,null);e.exports=t.exports},574:function(e,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var t=s(132),l=s.n(t);i.default={name:"Setting",components:{},data:function(){return{tipMessageObj:{},isLoading:!1,fillForm:{_id:"",email:"",profile:{username:"",nickname:"",website:"",description:""}},username:"",rules:{"profile.username":[{required:!0,message:this.$t("pleaseEnter"),trigger:"change,blur"}],"profile.nickname":[{required:!0,message:this.$t("pleaseEnter"),trigger:"change,blur"}],"profile.website":[{required:!0,validator:this.$verifyUrl,trigger:"change,blur"}]}}},created:function(){this.initFetch()},methods:{initFetch:function(){var e=this;this.$apis.getProfile({_id:this.userInfo._id}).then(function(i){e.username=i.username,l()(e.fillForm,i.value)})},tip:function(e,i){var s=this;s.tipMessageObj={message:e,type:i},setTimeout(function(){s.tipMessageObj={}},2e3)},onSaveClick:function(){var e=this;this.$refs.fillForm.validate(function(i){if(!i)return!1;e.isLoading=!0;var s=e.fillForm;e.$apis.setProfile(s).then(function(i){e.isLoading=!1,e.tip(i.message,"success"),e.init()}).catch(function(i){e.tip(i,"error"),e.isLoading=!1})})}},locales:{en:{},zh:{}}}},582:function(e,i){e.exports={render:function(){var e=this,i=e.$createElement,s=e._self._c||i;return s("div",{staticClass:"wrapper",attrs:{id:"setting"}},[s("div",{directives:[{name:"loading",rawName:"v-loading.body",value:e.isLoading,expression:"isLoading",modifiers:{body:!0}}],staticClass:"panel-default"},[s("div",{staticClass:"panel-body"},[s("div",{staticClass:"main-container"},[s("div",{staticClass:"entry-list setting"},[s("el-card",{staticClass:"box-card"},[s("div",{staticClass:"clearfix",slot:"header"},[s("el-breadcrumb",{attrs:{separator:"/"}},[s("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v(e._s(e.$t("homePage")))]),e._v(" "),s("el-breadcrumb-item",[e._v(e._s(e.$t("accountSetting")))])],1)],1),e._v(" "),s("div",{staticClass:"form form-horizontal"},[s("el-form",{ref:"fillForm",attrs:{model:e.fillForm,rules:e.rules}},[s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-sm-3 control-label"},[e._v(e._s(e.$t("setUsername"))),s("em",[e._v("*")]),e._v(":")]),e._v(" "),s("div",{staticClass:"col-sm-9"},[s("el-form-item",{attrs:{prop:"profile.username"}},[s("el-input",{directives:[{name:"model",rawName:"v-model",value:e.fillForm.profile.username,expression:"fillForm.profile.username"}],attrs:{disabled:""!==e.username,placeholder:""},domProps:{value:e.fillForm.profile.username},on:{input:function(i){e.fillForm.profile.username=i}}})],1)],1)]),e._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-sm-3 control-label"},[e._v(e._s(e.$t("setNickname"))),s("em",[e._v("*")]),e._v(":")]),e._v(" "),s("div",{staticClass:"col-sm-9"},[s("el-form-item",{attrs:{prop:"profile.nickname"}},[s("el-input",{directives:[{name:"model",rawName:"v-model",value:e.fillForm.profile.nickname,expression:"fillForm.profile.nickname"}],attrs:{placeholder:""},domProps:{value:e.fillForm.profile.nickname},on:{input:function(i){e.fillForm.profile.nickname=i}}})],1)],1)]),e._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-sm-3 control-label"},[e._v(e._s(e.$t("personalWebsite"))),s("em",[e._v("*")]),e._v(":")]),e._v(" "),s("div",{staticClass:"col-sm-9"},[s("el-form-item",{attrs:{prop:"profile.website"}},[s("el-input",{directives:[{name:"model",rawName:"v-model",value:e.fillForm.profile.website,expression:"fillForm.profile.website"}],attrs:{placeholder:""},domProps:{value:e.fillForm.profile.website},on:{input:function(i){e.fillForm.profile.website=i}}})],1)],1)]),e._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"col-sm-3 control-label"},[e._v(e._s(e.$t("profile"))+":")]),e._v(" "),s("div",{staticClass:"col-sm-9"},[s("el-input",{directives:[{name:"model",rawName:"v-model",value:e.fillForm.profile.description,expression:"fillForm.profile.description"}],attrs:{type:"textarea",autosize:{minRows:4,maxRows:6},placeholder:""},domProps:{value:e.fillForm.profile.description},on:{input:function(i){e.fillForm.profile.description=i}}})],1)])])],1),e._v(" "),s("div",{staticClass:"form-group"},[s("div",{staticClass:"col-sm-offset-3 col-sm-9 no-padding"},[s("el-button",{attrs:{loading:e.isLoading,type:"primary"},on:{click:e.onSaveClick}},[e._v(e._s(e.$t("saveSeting")))])],1)]),e._v(" "),e.tipMessageObj.message?s("el-alert",{attrs:{title:e.tipMessageObj.message,type:e.tipMessageObj.type}}):e._e()],1)],1),e._v(" "),s("aside-list")],1)])])])},staticRenderFns:[]}}});