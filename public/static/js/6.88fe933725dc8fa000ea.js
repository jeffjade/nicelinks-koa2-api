webpackJsonp([6],{423:function(e,n,i){i(553);var t=i(3)(i(555),i(556),null,null);e.exports=t.exports},424:function(e,n,i){"use strict";n.a={data:function(){var e=this;return{title:e.$t("niceLinksStr"),keywords:e.$t("keywords"),description:e.$t("description")}},metaInfo:function(){return{title:this.title,titleTemplate:"%s | "+this.$t("niceLinksStr"),meta:[{name:"title",content:this.title+" | "+this.$t("niceLinksStr")},{name:"keywords",content:this.keywords},{vmid:"description",name:"description",content:this.description}]}},mounted:function(){},methods:{}}},553:function(e,n,i){var t=i(554);"string"==typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);i(405)("1f1d2638",t,!0)},554:function(e,n,i){(e.exports=i(404)()).push([e.i,"\n.login-wrap {\n  width: 520px;\n  margin: 0 auto;\n  padding-top: 150px;\n  min-height: 400px;\n  position: relative;\n}\n.login-wrap .login-bottom-tip {\n    font-size: 1.56rem;\n    padding: 15px 0;\n}\n.login-box {\n  width: 520px;\n  padding: 30px 30px 0px 30px;\n  height: 100%;\n  background-color: #fff;\n  clear: both;\n  display: table;\n  border-radius: 3px;\n  border: 1px solid #d7dce5;\n}\n.login-box .nicelinks-logo {\n    margin-bottom: 1rem;\n}\n.login-box .heading {\n    text-align: center;\n    margin-bottom: 30px;\n    font-size: 24px;\n    color: #707473;\n}\n.login-box .el-form-item {\n    margin-bottom: 30px;\n}\n.login-box .el-button {\n    display: block;\n    width: 100%;\n    margin: 0 auto;\n    margin-bottom: 15px;\n}\n.login-box .el-input .icons {\n    display: block;\n    width: 20px;\n    height: 20px;\n    margin: 0;\n    padding: 0;\n}\n@media (max-width: 500px) {\n.login-wrap {\n    width: 100%;\n    padding-top: 60px;\n}\n.login-box {\n    width: 100%;\n    border: 0 none;\n}\n}\n",""])},555:function(e,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=i(424);n.default={name:"Login",data:function(){return{isLoading:!1,checkLoading:!1,tipMessageObj:{},account:{email:"",username:"",userinfo:"",password:""},isLegalUsername:!1,rules:{username:[{required:!0,validator:this.validateUsername,trigger:"change,blur"}],email:[{required:!0,validator:this.validateEmail,trigger:"change,blur"}],userinfo:[{required:!0,validator:this.validateUserinfo,trigger:"change,blur"}],password:[{required:!0,validator:this.validatePassword,trigger:"change,blur"}]}}},mixins:[t.a],created:function(){},mounted:function(){this.updatePageTitle(this.isSignUpPage)},components:{},computed:{isSignUpPage:function(){return"/register"===this.$route.path}},watch:{isSignUpPage:function(e){this.updatePageTitle(e)}},methods:{updatePageTitle:function(e){var n=e?"signUp":"signIn";this.title=this.$t(n)},setMessageTip:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error";this.tipMessageObj={message:e,type:n}},queryUsername:function(){var e=this;this.checkLoading=!0;var n={username:this.account.username};this.$apis.checkIsExisted(n).then(function(n){e.isLegalUsername=!0,e.checkLoading=!1,e.setMessageTip(null)}).catch(function(n){e.checkLoading=!1,e.isLegalUsername=!1,e.setMessageTip(n)})},validateUsername:function(e,n,i){return!n||n.length<=0?i(new Error(this.$t("enterUsernameTip"))):this.$util.isLegalUsername(n)?void i():i(new Error(this.$t("enterLegalUsernameTip")))},validateUserinfo:function(e,n,i){if(!n||n.length<=0)return i(new Error(this.$t("enterUserinfoTip")));i()},validateEmail:function(e,n,i){!n||n.length<=0?i(new Error(this.$t("enterEmailTip"))):this.$util.isLegalEmail(n)?i():i(new Error(this.$t("enterLegalEmailTip")))},validatePassword:function(e,n,i){this.isSignUpPage?!n||n.length<=0?i(new Error(this.$t("enterPwdTip"))):this.$util.isLegalPassword(n)?i():i(new Error(this.$t("enterLegalPwdTip"))):i()},onLoginClick:function(){var e=this;this.$gtagTracking("signin","login","login-signin"),this.isLoading=!0,this.$refs.validateForm.validate(function(n){if(!n)return e.isLoading=!1,!1;var i=e.$util.isLegalEmail(e.account.userinfo),t={email:i?e.account.userinfo:"",username:i?"":e.account.userinfo,password:e.$util.encryptPwd(e.account.password)};e.$apis.login(t).then(function(n){e.$store.commit("$vuexSetUserInfo",n),e.isLoading=!1,e.$router.push("/")}).catch(function(n){e.isLoading=!1,e.setMessageTip(n)})})},onSignupClick:function(){var e=this;this.$gtagTracking("signup","register","register-signup"),this.$refs.validateForm.validate(function(n){if(!n)return!1;e.isLoading=!1;var i={email:e.account.email,username:e.account.username,password:e.$util.encryptPwd(e.account.password)};e.$apis.signup(i).then(function(n){e.setMessageTip(n,"success")}).catch(function(n){e.isLoading=!1,e.setMessageTip(n)})})},onForgotPwdClick:function(){this.$gtagTracking("forgot-pwd","login","forgot-pwd"),this.$router.push("/forgot-pwd")},onBottomClick:function(){var e=["signin","register","register-signin"],n=["register","login","login-register"],i=this.isSignUpPage?e:n;this.$gtagTracking.apply(this,i),this.$router.push(this.isSignUpPage?"/login":"/register")},onBlurUsername:function(){this.isSignUpPage&&this.queryUsername()}},locales:{en:{enterUsernameTip:"Please enter username(Only letters and numbers，3-16)",enterUserinfoTip:"Please enter username Or email",enterLegalUsernameTip:"Please enter username(Only letters and numbers，3-16)",enterEmailTip:"Please Enter Email",enterLegalEmailTip:"Please Enter A Valid Email Box",signupBottomTip:"Don't have an account ?",signinBottomTip:"Already have an account?"},zh:{enterUsernameTip:"请输入用户名(仅限字母和数字，3至16位)",enterUserinfoTip:"请输入用户名或邮箱",enterLegalUsernameTip:"请输入用户名(仅限字母和数字，3至16位)",enterEmailTip:"请输入邮箱",enterLegalEmailTip:"请输入有效邮箱",signupBottomTip:"你已拥有一个账号？",signinBottomTip:"还未拥有一个账号？"}}}},556:function(e,n){e.exports={render:function(){var e=this,n=e.$createElement,i=e._self._c||n;return i("div",{staticClass:"login-wrap"},[i("div",{directives:[{name:"loading",rawName:"v-loading.body",value:e.isLoading,expression:"isLoading",modifiers:{body:!0}}],staticClass:"login-box"},[i("a",{staticClass:"nicelinks-logo gtag-track",attrs:{href:"/explore/all","data-action":"login-logo-link","data-category":"login","data-label":"login-logo-link"}},[i("img",{attrs:{src:"/static/img/favicons/safari-pinned-tab.svg",alt:e.$t("niceLinksStr")}}),e._v(" "),i("h1",[e._v(e._s(e.$t("niceLinksStr")))])]),e._v(" "),i("div",{staticClass:"form-group"},[e.tipMessageObj.message?i("el-alert",{attrs:{title:e.tipMessageObj.message,type:e.tipMessageObj.type}}):e._e()],1),e._v(" "),i("el-form",{ref:"validateForm",attrs:{model:e.account,rules:e.rules}},[e.isSignUpPage?i("el-form-item",{attrs:{prop:"username"}},[i("el-input",{directives:[{name:"model",rawName:"v-model.trim.lazy",value:e.account.username,expression:"account.username",modifiers:{trim:!0,lazy:!0}}],attrs:{icon:e.checkLoading?"loading":"",autofocus:!0},domProps:{value:e.account.username},on:{blur:[e.onBlurUsername,function(n){e.$forceUpdate()}],change:function(n){e.account.username="string"==typeof n?n.trim():n}},nativeOn:{keydown:function(n){e._k(n.keyCode,"enter",13)||e.onLoginClick(n)}}},[i("template",{slot:"prepend"},[i("icon",{staticClass:"icons",attrs:{name:"login-user"}})],1)],2)],1):e._e(),e._v(" "),e.isSignUpPage?i("el-form-item",{attrs:{prop:"email"}},[i("el-input",{directives:[{name:"model",rawName:"v-model.trim",value:e.account.email,expression:"account.email",modifiers:{trim:!0}}],domProps:{value:e.account.email},on:{input:function(n){e.account.email="string"==typeof n?n.trim():n},blur:function(n){e.$forceUpdate()}},nativeOn:{keydown:function(n){e._k(n.keyCode,"enter",13)||e.onLoginClick(n)}}},[i("template",{slot:"prepend"},[i("icon",{staticClass:"icons",attrs:{name:"login-email"}})],1)],2)],1):e._e(),e._v(" "),e.isSignUpPage?e._e():i("el-form-item",{attrs:{prop:"userinfo"}},[i("el-input",{directives:[{name:"model",rawName:"v-model.trim",value:e.account.userinfo,expression:"account.userinfo",modifiers:{trim:!0}}],domProps:{value:e.account.userinfo},on:{input:function(n){e.account.userinfo="string"==typeof n?n.trim():n},blur:function(n){e.$forceUpdate()}},nativeOn:{keydown:function(n){e._k(n.keyCode,"enter",13)||e.onLoginClick(n)}}},[i("template",{slot:"prepend"},[i("icon",{staticClass:"icons",attrs:{name:"login-user"}})],1)],2)],1),e._v(" "),i("el-form-item",{attrs:{prop:"password"}},[i("el-input",{directives:[{name:"model",rawName:"v-model",value:e.account.password,expression:"account.password"}],attrs:{type:"password"},domProps:{value:e.account.password},on:{input:function(n){e.account.password=n}},nativeOn:{keydown:function(n){e._k(n.keyCode,"enter",13)||e.onLoginClick(n)}}},[i("template",{slot:"prepend"},[i("icon",{staticClass:"icons",attrs:{name:"password"}})],1)],2)],1),e._v(" "),e.isSignUpPage?i("el-button",{attrs:{size:"large"},on:{click:e.onSignupClick}},[e._v(e._s(e.$t("signUp")))]):i("el-button",{attrs:{type:"primary",size:"large"},on:{click:e.onLoginClick}},[e._v(e._s(e.$t("signIn")))]),e._v(" "),this.isSignUpPage?e._e():i("el-button",{attrs:{type:"text",size:"large"},on:{click:e.onForgotPwdClick}},[e._v(e._s(e.$t("forgetPwd")))])],1)],1),e._v(" "),i("div",{staticClass:"form-group login-bottom-tip"},[i("p",{staticClass:"text-center"},[e._v(e._s(e.isSignUpPage?e.$t("signupBottomTip"):e.$t("signinBottomTip"))+"\n      "),i("a",{staticClass:"el-button--text",attrs:{href:"javascript:;"},on:{click:e.onBottomClick}},[e._v("\n      "+e._s(e.isSignUpPage?e.$t("signIn"):e.$t("signUp")))])])])])},staticRenderFns:[]}}});