webpackJsonp([1],{407:function(e,t,i){i(461);var n=i(2)(i(463),i(484),null,null);e.exports=n.exports},422:function(e,t,i){"use strict";t.a={data:function(){var e=this;return{title:e.$t("niceLinksStr"),siteTitle:e.$t("niceLinksStr"),titleTemplate:"%s | "+this.$t("niceLinksStr"),keywords:e.$t("keywords"),description:e.$t("description")}},created:function(){},metaInfo:function(){var e=this,t=this.title?this.title+" - "+this.siteTitle:""+this.siteTitle;return{title:this.title,titleTemplate:function(t){return t?t+" - "+e.siteTitle:""+e.siteTitle},meta:[{vmid:"title",name:"title",content:t},{vmid:"keywords",name:"keywords",content:this.keywords},{vmid:"description",name:"description",content:this.description},{vmid:"og:type",property:"og:type",content:"website"},{vmid:"og:title",property:"og:title",content:t},{vmid:"og:image",property:"og:image",content:"https://static.nicelinks.site/static/img/favicons/favicon.png"},{vmid:"og:keywords",property:"og:keywords",content:this.keywords},{vmid:"og:description",property:"og:description",content:this.description},{vmid:"twitter:card",name:"twitter:card",content:"summary"},{vmid:"twitter:site",name:"twitter:site",content:"@jeffjade2"},{vmid:"twitter:title",name:"twitter:title",content:t},{vmid:"twitter:image",property:"og:image",content:"https://static.nicelinks.site/static/img/favicons/favicon.png"},{vmid:"twitter:keywords",name:"twitter:keywords",content:this.keywords},{vmid:"twitter:description",name:"twitter:description",content:this.description}]}},mounted:function(){},methods:{}}},423:function(e,t,i){t.f=i(6)},424:function(e,t,i){var n=i(7),r=i(8),o=i(65),a=i(423),p=i(20).f;e.exports=function(e){var t=r.Symbol||(r.Symbol=o?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||p(t,e,{value:a.f(e)})}},425:function(e,t,i){var n=i(112),r=i(67).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,r)}},461:function(e,t,i){var n=i(462);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);i(404)("24522059",n,!0)},462:function(e,t,i){(e.exports=i(403)()).push([e.i,"\n.update-avatar-area {\n  width: 200px;\n  text-align: center;\n  margin: auto;\n}\n.update-avatar-area .preview-avatar {\n    border: 1px solid #d1dbe5;\n    border-radius: 50%;\n}\n.setting .form-group .el-input, .setting .form-group .el-textarea {\n  max-width: 768px;\n  width: 100%;\n}\n@media (max-width: 768px) {\n.setting .form-horizontal .form-group {\n    margin-left: 0px;\n    margin-right: 0px;\n}\n.setting .operation-area {\n    margin-left: 15px;\n}\n}\n",""])},463:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(35),r=i.n(n),o=i(464),a=i.n(o),p=i(422);t.default={name:"Setting",mixins:[p.a],components:{UploadAvatar:a.a},data:function(){return{title:this.$t("accountSetting"),tipMessageObj:{},isLoading:!1,fillForm:{_id:"",email:"",username:"",profile:{nickname:"",website:"",description:""}},rules:{"profile.nickname":[{required:!1,validator:this.isTheLegalNick,trigger:"change,blur"}],"profile.website":[{required:!1,validator:this.isTheLegalUrl,trigger:"change,blur"}]},isShowUploadAvatar:!1,params:{token:"131421",name:"avatar"},headers:{imgname:"",username:""},imgDataUrl:"https://image.nicelinks.site/default-avatar.jpeg"}},mounted:function(){this.initFetch()},methods:{initFetch:function(){var e=this;this.$apis.getProfile({_id:this.userInfo._id}).then(function(t){r()(e.fillForm,t);var i=new Date(e.$util.getCurrentDate()).Format("yyyy-MM-dd"),n=e.$util.getCurrentDateHMS();t.profile.avatar&&(e.imgDataUrl="/api/avatar/"+t.profile.avatar),e.headers.imgname=[i,n,e.userInfo._id].join("-"),e.headers.username=e.userInfo.username||""}).catch(function(t){e.errorAletTip("Err: "+t,"error"),e.isLoading=!1})},errorAletTip:function(e,t){var i=this;this.tipMessageObj={message:e,type:t},setTimeout(function(){i.tipMessageObj={}},2e3)},isTheLegalNick:function(e,t,i){t&&!this.$util.isLegalNick(t)?i(new Error(this.$t("enterLegalNick"))):i()},isTheLegalUrl:function(e,t,i){t&&!this.$util.isLegalUrl(t)?i(new Error(this.$t("enterLegalUrl"))):i()},onSaveClick:function(){var e=this;this.$gtagTracking("save-setting","setting","save-setting"),this.$refs.fillForm.validate(function(t){if(t){e.isLoading=!0;var i=e.$_.cloneDeep(e.fillForm);delete i.username,e.$apis.setProfile(i).then(function(t){e.$message({message:t,type:"success"})}).catch(function(t){e.errorAletTip(t,"error")}).finally(function(){e.isLoading=!1})}})},onUpdateAvatarClick:function(){this.$gtagTracking("update-avatar","setting","update-avatar"),this.isShowUploadAvatar=!0},onCropSuccess:function(e){this.imgDataUrl=e},onCropUploadFail:function(){},onCropUploadSuccess:function(e){this.imgDataUrl="/api/avatar/"+e}},locales:{en:{enterLegalNick:"Please enter 3 ~ 15 arbitrary characters."},zh:{enterLegalNick:"请输入 3 ～ 15 位任意字符"}}}},464:function(e,t,i){i(465);var n=i(2)(i(467),i(483),null,null);e.exports=n.exports},465:function(e,t,i){var n=i(466);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);i(404)("cacc0e10",n,!0)},466:function(e,t,i){(e.exports=i(403)()).push([e.i,"\n@charset \"UTF-8\";\n@keyframes vicp_progress {\n0% {\n    background-position-y: 0;\n}\n100% {\n    background-position-y: 40px;\n}\n}\n@keyframes vicp {\n0% {\n    opacity: 0;\n    transform: scale(0) translatey(-60px);\n}\n100% {\n    opacity: 1;\n    transform: scale(1) translatey(0);\n}\n}\n.vue-image-crop-upload {\n  position: fixed;\n  display: block;\n  box-sizing: border-box;\n  z-index: 10000;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.65);\n  -webkit-tap-highlight-color: transparent;\n  -moz-tap-highlight-color: transparent;\n}\n.vue-image-crop-upload .vicp-wrap {\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.23);\n  position: fixed;\n  display: block;\n  box-sizing: border-box;\n  z-index: 10000;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  margin: auto;\n  width: 600px;\n  height: 330px;\n  padding: 25px;\n  background-color: #fff;\n  border-radius: 2px;\n  animation: vicp 0.12s ease-in;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-close {\n  position: absolute;\n  right: -30px;\n  top: -30px;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-close .vicp-icon4 {\n  position: relative;\n  display: block;\n  width: 30px;\n  height: 30px;\n  cursor: pointer;\n  transition: transform 0.18s;\n  transform: rotate(0);\n}\n.vue-image-crop-upload .vicp-wrap .vicp-close .vicp-icon4::after, .vue-image-crop-upload .vicp-wrap .vicp-close .vicp-icon4::before {\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.23);\n  content: '';\n  position: absolute;\n  top: 12px;\n  left: 4px;\n  width: 20px;\n  height: 3px;\n  transform: rotate(45deg);\n  background-color: #fff;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-close .vicp-icon4::after {\n  transform: rotate(-45deg);\n}\n.vue-image-crop-upload .vicp-wrap .vicp-close .vicp-icon4:hover {\n  transform: rotate(90deg);\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step1 .vicp-drop-area {\n  position: relative;\n  box-sizing: border-box;\n  padding: 35px;\n  height: 170px;\n  background-color: rgba(0, 0, 0, 0.03);\n  text-align: center;\n  border: 1px dashed rgba(0, 0, 0, 0.08);\n  overflow: hidden;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step1 .vicp-drop-area .vicp-icon1 {\n  display: block;\n  margin: 0 auto 6px;\n  width: 42px;\n  height: 42px;\n  overflow: hidden;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step1 .vicp-drop-area .vicp-icon1 .vicp-icon1-arrow {\n  display: block;\n  margin: 0 auto;\n  width: 0;\n  height: 0;\n  border-bottom: 14.7px solid rgba(0, 0, 0, 0.3);\n  border-left: 14.7px solid transparent;\n  border-right: 14.7px solid transparent;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step1 .vicp-drop-area .vicp-icon1 .vicp-icon1-body {\n  display: block;\n  width: 12.6px;\n  height: 14.7px;\n  margin: 0 auto;\n  background-color: rgba(0, 0, 0, 0.3);\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step1 .vicp-drop-area .vicp-icon1 .vicp-icon1-bottom {\n  box-sizing: border-box;\n  display: block;\n  height: 12.6px;\n  border: 6px solid rgba(0, 0, 0, 0.3);\n  border-top: none;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step1 .vicp-drop-area .vicp-hint {\n  display: block;\n  padding: 15px;\n  font-size: 14px;\n  color: #666;\n  line-height: 30px;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step1 .vicp-drop-area .vicp-no-supported-hint {\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  padding: 30px;\n  width: 100%;\n  height: 60px;\n  line-height: 30px;\n  background-color: #eee;\n  text-align: center;\n  color: #666;\n  font-size: 14px;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step1 .vicp-drop-area:hover {\n  cursor: pointer;\n  border-color: rgba(0, 0, 0, 0.1);\n  background-color: rgba(0, 0, 0, 0.05);\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop {\n  overflow: hidden;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left {\n  float: left;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-img-container {\n  position: relative;\n  display: block;\n  width: 240px;\n  height: 180px;\n  background-color: #e5e5e0;\n  overflow: hidden;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-img-container .vicp-img {\n  position: absolute;\n  display: block;\n  cursor: move;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-img-container .vicp-img-shade {\n  box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.18);\n  position: absolute;\n  background-color: rgba(241, 242, 243, 0.8);\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-img-container .vicp-img-shade.vicp-img-shade-1 {\n  top: 0;\n  left: 0;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-img-container .vicp-img-shade.vicp-img-shade-2 {\n  bottom: 0;\n  right: 0;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range {\n  position: relative;\n  margin: 30px 0;\n  width: 240px;\n  height: 18px;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon5,\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon6 {\n  position: absolute;\n  top: 0;\n  width: 18px;\n  height: 18px;\n  border-radius: 100%;\n  background-color: rgba(0, 0, 0, 0.08);\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon5:hover,\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon6:hover {\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12);\n  cursor: pointer;\n  background-color: rgba(0, 0, 0, 0.14);\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon5 {\n  left: 0;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon5::before {\n  position: absolute;\n  content: '';\n  display: block;\n  left: 3px;\n  top: 8px;\n  width: 12px;\n  height: 2px;\n  background-color: #fff;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon6 {\n  right: 0;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon6::before {\n  position: absolute;\n  content: '';\n  display: block;\n  left: 3px;\n  top: 8px;\n  width: 12px;\n  height: 2px;\n  background-color: #fff;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range .vicp-icon6::after {\n  position: absolute;\n  content: '';\n  display: block;\n  top: 3px;\n  left: 8px;\n  width: 2px;\n  height: 12px;\n  background-color: #fff;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range] {\n  display: block;\n  padding-top: 5px;\n  margin: 0 auto;\n  width: 180px;\n  height: 8px;\n  vertical-align: top;\n  background: transparent;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  cursor: pointer;\n  /* 滑块\n               ---------------------------------------------------------------*/\n  /* 轨道\n               ---------------------------------------------------------------*/\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]:focus {\n  outline: none;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]::-webkit-slider-thumb {\n  box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.18);\n  -webkit-appearance: none;\n  appearance: none;\n  margin-top: -3px;\n  width: 12px;\n  height: 12px;\n  background-color: #61c091;\n  border-radius: 100%;\n  border: none;\n  transition: 0.2s;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]::-moz-range-thumb {\n  box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.18);\n  -moz-appearance: none;\n  appearance: none;\n  width: 12px;\n  height: 12px;\n  background-color: #61c091;\n  border-radius: 100%;\n  border: none;\n  transition: 0.2s;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]::-ms-thumb {\n  box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.18);\n  appearance: none;\n  width: 12px;\n  height: 12px;\n  background-color: #61c091;\n  border: none;\n  border-radius: 100%;\n  transition: 0.2s;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]:active::-moz-range-thumb {\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.23);\n  width: 14px;\n  height: 14px;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]:active::-ms-thumb {\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.23);\n  width: 14px;\n  height: 14px;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]:active::-webkit-slider-thumb {\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.23);\n  margin-top: -4px;\n  width: 14px;\n  height: 14px;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]::-webkit-slider-runnable-track {\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12);\n  width: 100%;\n  height: 6px;\n  cursor: pointer;\n  border-radius: 2px;\n  border: none;\n  background-color: rgba(68, 170, 119, 0.3);\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]::-moz-range-track {\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12);\n  width: 100%;\n  height: 6px;\n  cursor: pointer;\n  border-radius: 2px;\n  border: none;\n  background-color: rgba(68, 170, 119, 0.3);\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]::-ms-track {\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12);\n  width: 100%;\n  cursor: pointer;\n  background: transparent;\n  border-color: transparent;\n  color: transparent;\n  height: 6px;\n  border-radius: 2px;\n  border: none;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]::-ms-fill-lower {\n  background-color: rgba(68, 170, 119, 0.3);\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]::-ms-fill-upper {\n  background-color: rgba(68, 170, 119, 0.15);\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]:focus::-webkit-slider-runnable-track {\n  background-color: rgba(68, 170, 119, 0.5);\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]:focus::-moz-range-track {\n  background-color: rgba(68, 170, 119, 0.5);\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]:focus::-ms-fill-lower {\n  background-color: rgba(68, 170, 119, 0.45);\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-left .vicp-range input[type=range]:focus::-ms-fill-upper {\n  background-color: rgba(68, 170, 119, 0.25);\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-right {\n  float: right;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-right .vicp-preview {\n  height: 150px;\n  overflow: hidden;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-right .vicp-preview .vicp-preview-item {\n  position: relative;\n  padding: 5px;\n  width: 100px;\n  height: 100px;\n  float: left;\n  margin-right: 16px;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-right .vicp-preview .vicp-preview-item span {\n  position: absolute;\n  bottom: -30px;\n  width: 100%;\n  font-size: 14px;\n  color: #bbb;\n  display: block;\n  text-align: center;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-right .vicp-preview .vicp-preview-item img {\n  position: absolute;\n  display: block;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  margin: auto;\n  padding: 3px;\n  background-color: #fff;\n  border: 1px solid rgba(0, 0, 0, 0.15);\n  overflow: hidden;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-right .vicp-preview .vicp-preview-item:nth-child(2) {\n  margin-right: 0;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step2 .vicp-crop .vicp-crop-right .vicp-preview .vicp-preview-item:nth-child(2) img {\n  border-radius: 100%;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step3 .vicp-upload {\n  position: relative;\n  box-sizing: border-box;\n  padding: 35px;\n  height: 170px;\n  background-color: rgba(0, 0, 0, 0.03);\n  text-align: center;\n  border: 1px dashed #ddd;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step3 .vicp-upload .vicp-loading {\n  display: block;\n  padding: 15px;\n  font-size: 16px;\n  color: #999;\n  line-height: 30px;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step3 .vicp-upload .vicp-progress-wrap {\n  margin-top: 12px;\n  background-color: rgba(0, 0, 0, 0.08);\n  border-radius: 3px;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step3 .vicp-upload .vicp-progress-wrap .vicp-progress {\n  position: relative;\n  display: block;\n  height: 5px;\n  border-radius: 3px;\n  background-color: #4a7;\n  box-shadow: 0 2px 6px 0 rgba(68, 170, 119, 0.3);\n  transition: width 0.15s linear;\n  background-image: linear-gradient(-45deg, rgba(255, 255, 255, 0.2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.2) 50%, rgba(255, 255, 255, 0.2) 75%, transparent 75%, transparent);\n  background-size: 40px 40px;\n  animation: vicp_progress 0.5s linear infinite;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step3 .vicp-upload .vicp-progress-wrap .vicp-progress::after {\n  content: '';\n  position: absolute;\n  display: block;\n  top: -3px;\n  right: -3px;\n  width: 9px;\n  height: 9px;\n  border: 1px solid rgba(245, 246, 247, 0.7);\n  box-shadow: 0 1px 4px 0 rgba(68, 170, 119, 0.7);\n  border-radius: 100%;\n  background-color: #4a7;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-step3 .vicp-upload .vicp-error,\n.vue-image-crop-upload .vicp-wrap .vicp-step3 .vicp-upload .vicp-success {\n  height: 100px;\n  line-height: 100px;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-operate {\n  position: absolute;\n  right: 20px;\n  bottom: 20px;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-operate a {\n  position: relative;\n  float: left;\n  display: block;\n  margin-left: 10px;\n  width: 100px;\n  height: 36px;\n  line-height: 36px;\n  text-align: center;\n  cursor: pointer;\n  font-size: 14px;\n  color: #4a7;\n  border-radius: 2px;\n  overflow: hidden;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-operate a:hover {\n  background-color: rgba(0, 0, 0, 0.03);\n}\n.vue-image-crop-upload .vicp-wrap .vicp-error,\n.vue-image-crop-upload .vicp-wrap .vicp-success {\n  display: block;\n  font-size: 14px;\n  line-height: 24px;\n  height: 24px;\n  color: #d10;\n  text-align: center;\n  vertical-align: top;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-success {\n  color: #4a7;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-icon3 {\n  position: relative;\n  display: inline-block;\n  width: 20px;\n  height: 20px;\n  top: 4px;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-icon3::after {\n  position: absolute;\n  top: 3px;\n  left: 6px;\n  width: 6px;\n  height: 10px;\n  border-width: 0 2px 2px 0;\n  border-color: #4a7;\n  border-style: solid;\n  transform: rotate(45deg);\n  content: '';\n}\n.vue-image-crop-upload .vicp-wrap .vicp-icon2 {\n  position: relative;\n  display: inline-block;\n  width: 20px;\n  height: 20px;\n  top: 4px;\n}\n.vue-image-crop-upload .vicp-wrap .vicp-icon2::after, .vue-image-crop-upload .vicp-wrap .vicp-icon2::before {\n  content: '';\n  position: absolute;\n  top: 9px;\n  left: 4px;\n  width: 13px;\n  height: 2px;\n  background-color: #d10;\n  transform: rotate(45deg);\n}\n.vue-image-crop-upload .vicp-wrap .vicp-icon2::after {\n  transform: rotate(-45deg);\n}\n.e-ripple {\n  position: absolute;\n  border-radius: 100%;\n  background-color: rgba(0, 0, 0, 0.15);\n  background-clip: padding-box;\n  pointer-events: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  transform: scale(0);\n  opacity: 1;\n}\n.e-ripple.z-active {\n  opacity: 0;\n  transform: scale(2);\n  transition: opacity 1.2s ease-out, transform 0.6s ease-out;\n}\n@media screen and (max-width: 960px) {\n.main .vue-image-crop-upload .vicp-wrap {\n    position: absolute;\n    width: 100%;\n    height: 90%;\n    max-height: 500px;\n}\n.main .vue-image-crop-upload .vicp-wrap .vicp-crop .vicp-crop-left {\n      float: none;\n}\n.main .vue-image-crop-upload .vicp-wrap .vicp-crop .vicp-crop-left .vicp-img-container {\n        height: 180px;\n        margin: auto;\n}\n.main .vue-image-crop-upload .vicp-wrap .vicp-crop .vicp-crop-right {\n      float: none;\n}\n.main .vue-image-crop-upload .vicp-wrap .vicp-crop .vicp-crop-right .vicp-preview {\n        margin: auto;\n        width: 100%;\n        height: 130px;\n}\n.main .vue-image-crop-upload .vicp-wrap .vicp-crop .vicp-crop-right .vicp-preview .vicp-preview-item {\n          display: inline-block;\n          float: none;\n          margin: auto;\n}\n}\n",""])},467:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(111),r=i.n(n),o=i(468),a=i.n(o),p=i(114),c=i.n(p),s=i(35),l=i.n(s),u=i(482),v=u.a.getLangConf(),d={jpg:"image/jpeg",png:"image/png",gif:"image/gif",svg:"image/svg+xml",psd:"image/photoshop"};t.default={name:"UploadAvatar",props:{field:{type:String,default:"avatar"},ki:{default:0},value:{default:!0},url:{type:String,default:""},params:{type:Object,default:null},headers:{type:Object,default:null},width:{type:Number,default:200},height:{type:Number,default:200},noCircle:{type:Boolean,default:!1},maxSize:{type:Number,default:10240},langType:{type:String,default:"zh"},langExt:{type:Object,default:null},imgFormat:{type:String,default:"png"}},data:function(){var e=this,t=e.imgFormat,i=e.langType,n=e.langExt,r=e.width,o=e.height,a=!0,p=-1===["jpg","png"].indexOf(t)?"jpg":t,c=v[i]?v[i]:v.en,s=d[p];return e.imgFormat=p,n&&l()(c,n),"function"!=typeof FormData&&(a=!1),{mime:s,lang:c,isSupported:a,isSupportTouch:document.hasOwnProperty("ontouchstart"),step:1,loading:0,progress:0,hasError:!1,errorMsg:"",ratio:r/o,sourceImg:null,sourceImgUrl:"",createImgUrl:"",imgData:"",sourceImgMouseDown:{on:!1,mX:0,mY:0,x:0,y:0},previewContainer:{width:100,height:100},sourceImgContainer:{width:240,height:180},scale:{zoomAddOn:!1,zoomSubOn:!1,range:1,x:0,y:0,width:0,height:0,maxWidth:0,maxHeight:0,minWidth:0,minHeight:0,naturalWidth:0,naturalHeight:0}}},computed:{progressStyle:function(){return{width:this.progress+"%"}},sourceImgStyle:function(){var e=this.scale,t=this.sourceImgMasking;return{top:e.y+t.y+"px",left:e.x+t.x+"px",width:e.width+"px",height:e.height+"px"}},sourceImgMasking:function(){var e=this.width,t=this.height,i=this.ratio,n=this.sourceImgContainer,r=n.width/n.height,o=0,a=0,p=n.width,c=n.height,s=1;return i<r&&(s=n.height/t,p=n.height*i,o=(n.width-p)/2),i>r&&(s=n.width/e,c=n.width/i,a=(n.height-c)/2),{scale:s,x:o,y:a,width:p,height:c}},sourceImgShadeStyle:function(){var e=this.sourceImgMasking,t=this.sourceImgContainer,i=e;return{width:(i.width===t.width?i.width:(t.width-i.width)/2)+"px",height:(i.height===t.height?i.height:(t.height-i.height)/2)+"px"}},previewStyle:function(){this.width,this.height;var e=this.ratio,t=this.previewContainer,i=t.width,n=t.height,r=i/n;return e<r&&(i=t.height*e),e>r&&(n=t.width/e),{width:i+"px",height:n+"px"}}},watch:{value:function(e){e&&1!==this.loading&&this.reset()}},methods:{ripple:function(e){u.a.effectRipple(e)},off:function(){var e=this;setTimeout(function(){e.$emit("input",!1),3===e.step&&2===e.loading&&e.setStep(1)},200)},setStep:function(e){var t=this;setTimeout(function(){t.step=e},200)},preventDefault:function(e){return e.preventDefault(),!1},handleClick:function(e){1!==this.loading&&e.target!==this.$refs.fileinput&&(e.preventDefault(),document.activeElement!==this.$refs&&this.$refs.fileinput.click())},handleChange:function(e){if(e.preventDefault(),1!==this.loading){var t=e.target.files||e.dataTransfer.files;this.reset(),this.checkFile(t[0])&&this.setSourceImg(t[0])}},checkFile:function(e){var t=this,i=t.lang,n=t.maxSize;return-1===e.type.indexOf("image")?(t.hasError=!0,t.errorMsg=i.error.onlyImg,!1):!(e.size/1024>n)||(t.hasError=!0,t.errorMsg=i.error.outOfSize+n+"kb",!1)},reset:function(){this.loading=0,this.hasError=!1,this.errorMsg="",this.progress=0},setSourceImg:function(e){var t=this,i=new FileReader;i.onload=function(e){t.sourceImgUrl=i.result,t.startCrop()},i.readAsDataURL(e)},startCrop:function(){var e=this,t=e.width,i=e.height,n=e.ratio,r=e.scale,o=e.sourceImgUrl,a=e.sourceImgMasking,p=e.lang,c=a,s=new Image;s.src=o,s.onload=function(){var o=s.naturalWidth,a=s.naturalHeight,l=o/a,u=c.width,v=c.height,d=0,g=0;if(o<t||a<i)return e.hasError=!0,e.errorMsg=p.error.lowestPx+t+"*"+i,!1;n>l&&(v=u/l,g=(c.height-v)/2),n<l&&(u=v*l,d=(c.width-u)/2),r.range=0,r.x=d,r.y=g,r.width=u,r.height=v,r.minWidth=u,r.minHeight=v,r.maxWidth=o*c.scale,r.maxHeight=a*c.scale,r.naturalWidth=o,r.naturalHeight=a,e.sourceImg=s,e.createImg(),e.setStep(2)}},imgStartMove:function(e){if(e.preventDefault(),this.isSupportTouch&&!e.targetTouches)return!1;var t=e.targetTouches?e.targetTouches[0]:e,i=this.sourceImgMouseDown,n=this.scale,r=i;r.mX=t.screenX,r.mY=t.screenY,r.x=n.x,r.y=n.y,r.on=!0},imgMove:function(e){if(e.preventDefault(),this.isSupportTouch&&!e.targetTouches)return!1;var t=e.targetTouches?e.targetTouches[0]:e,i=this.sourceImgMouseDown,n=i.on,r=i.mX,o=i.mY,a=i.x,p=i.y,c=this.scale,s=this.sourceImgMasking,l=a+(t.screenX-r),u=p+(t.screenY-o);n&&(l>0&&(l=0),u>0&&(u=0),l<s.width-c.width&&(l=s.width-c.width),u<s.height-c.height&&(u=s.height-c.height),c.x=l,c.y=u)},startZoomAdd:function(e){function t(){if(n.zoomAddOn){var e=n.range>=100?100:++n.range;i.zoomImg(e),setTimeout(function(){t()},60)}}var i=this,n=i.scale;n.zoomAddOn=!0,t()},endZoomAdd:function(e){this.scale.zoomAddOn=!1},startZoomSub:function(e){function t(){if(n.zoomSubOn){var e=n.range<=0?0:--n.range;i.zoomImg(e),setTimeout(function(){t()},60)}}var i=this,n=i.scale;n.zoomSubOn=!0,t()},endZoomSub:function(e){this.scale.zoomSubOn=!1},zoomChange:function(e){this.zoomImg(e.target.value)},zoomImg:function(e){var t=this,i=this.sourceImgMasking,n=(this.sourceImgMouseDown,this.scale),r=n.maxWidth,o=n.maxHeight,a=n.minWidth,p=n.minHeight,c=n.width,s=n.height,l=n.x,u=n.y,v=(n.range,i),d=v.width,g=v.height,h=a+(r-a)*e/100,m=p+(o-p)*e/100,f=d/2-h/c*(d/2-l),w=g/2-m/s*(g/2-u);f>0&&(f=0),w>0&&(w=0),f<d-h&&(f=d-h),w<g-m&&(w=g-m),n.x=f,n.y=w,n.width=h,n.height=m,n.range=e,setTimeout(function(){n.range===e&&t.createImg()},300)},createImg:function(e){var t=this,i=t.mime,n=t.sourceImg,r=t.scale,o=r.x,a=r.y,p=r.width,c=r.height,s=t.sourceImgMasking.scale,l=t.$refs.canvas,u=l.getContext("2d");e&&(t.sourceImgMouseDown.on=!1),u.clearRect(0,0,t.width,t.height),u.drawImage(n,o/s,a/s,p/s,c/s),t.createImgUrl=l.toDataURL(i)},prepareUpload:function(){var e=this.url,t=this.createImgUrl,i=this.field,n=this.ki;this.$emit("crop-success",t,i,n),"string"==typeof e&&e?this.upload():this.off()},upload:function(){var e=this,t=this,i=this.lang,n=(this.imgFormat,this.mime),o=(this.url,this.params,this.headers),p=this.field,s=this.ki,l=this.createImgUrl;this.imgData=new FormData;var v=u.a.dataURItoBlob(l,n);this.imgData.append("file",v),this.imgData.append("user",this.userInfo._id||"");var d=function(e){e.lengthComputable&&(t.progress=100*Math.round(e.loaded)/e.total)};t.reset(),t.loading=1,t.setStep(3),new c.a(function(t,i){var n=new XMLHttpRequest;n.open("POST","/api/updateAvatar",!0),n.onreadystatechange=function(e){200===this.status||201===this.status?t(o.imgname):i(this.status)},n.upload.addEventListener("progress",d,!1),"object"===(void 0===o?"undefined":a()(o))&&o&&r()(o).forEach(function(e){n.setRequestHeader(e,o[e])});e.userInfo._id,e.imgData;n.send(e.imgData)}).then(function(i){t.value&&(t.loading=2,t.reset(),e.$message({type:"success",message:"成功更新头像"}),t.$emit("crop-upload-success",i,p,s))},function(e){t.value&&(t.loading=3,t.reset(),t.hasError=!0,t.errorMsg=i.fail,t.$emit("crop-upload-fail",e,p,s))})}},created:function(){var e=this;document.addEventListener("keyup",function(t){!e.value||"Escape"!==t.key&&27!==t.keyCode||e.off()})}}},468:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(i(469)),o=n(i(471)),a="function"==typeof o.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":typeof e};t.default="function"==typeof o.default&&"symbol"===a(r.default)?function(e){return void 0===e?"undefined":a(e)}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":void 0===e?"undefined":a(e)}},469:function(e,t,i){e.exports={default:i(470),__esModule:!0}},470:function(e,t,i){i(116),i(119),e.exports=i(423).f("iterator")},471:function(e,t,i){e.exports={default:i(472),__esModule:!0}},472:function(e,t,i){i(473),i(115),i(480),i(481),e.exports=i(8).Symbol},473:function(e,t,i){"use strict";var n=i(7),r=i(19),o=i(17),a=i(24),p=i(117),c=i(474).KEY,s=i(22),l=i(66),u=i(38),v=i(63),d=i(6),g=i(423),h=i(424),m=i(475),f=i(476),w=i(477),b=i(14),x=i(36),y=i(109),k=i(64),_=i(118),C=i(478),S=i(479),I=i(20),z=i(37),O=S.f,F=I.f,M=C.f,U=n.Symbol,D=n.JSON,N=D&&D.stringify,T=d("_hidden"),E=d("toPrimitive"),$={}.propertyIsEnumerable,A=l("symbol-registry"),j=l("symbols"),P=l("op-symbols"),L=Object.prototype,R="function"==typeof U,W=n.QObject,H=!W||!W.prototype||!W.prototype.findChild,Z=o&&s(function(){return 7!=_(F({},"a",{get:function(){return F(this,"a",{value:7}).a}})).a})?function(e,t,i){var n=O(L,t);n&&delete L[t],F(e,t,i),n&&e!==L&&F(L,t,n)}:F,B=function(e){var t=j[e]=_(U.prototype);return t._k=e,t},Y=R&&"symbol"==typeof U.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof U},X=function(e,t,i){return e===L&&X(P,t,i),b(e),t=y(t,!0),b(i),r(j,t)?(i.enumerable?(r(e,T)&&e[T][t]&&(e[T][t]=!1),i=_(i,{enumerable:k(0,!1)})):(r(e,T)||F(e,T,k(1,{})),e[T][t]=!0),Z(e,t,i)):F(e,t,i)},q=function(e,t){b(e);for(var i,n=f(t=x(t)),r=0,o=n.length;o>r;)X(e,i=n[r++],t[i]);return e},J=function(e){var t=$.call(this,e=y(e,!0));return!(this===L&&r(j,e)&&!r(P,e))&&(!(t||!r(this,e)||!r(j,e)||r(this,T)&&this[T][e])||t)},K=function(e,t){if(e=x(e),t=y(t,!0),e!==L||!r(j,t)||r(P,t)){var i=O(e,t);return!i||!r(j,t)||r(e,T)&&e[T][t]||(i.enumerable=!0),i}},G=function(e){for(var t,i=M(x(e)),n=[],o=0;i.length>o;)r(j,t=i[o++])||t==T||t==c||n.push(t);return n},Q=function(e){for(var t,i=e===L,n=M(i?P:x(e)),o=[],a=0;n.length>a;)!r(j,t=n[a++])||i&&!r(L,t)||o.push(j[t]);return o};R||(p((U=function(){if(this instanceof U)throw TypeError("Symbol is not a constructor!");var e=v(arguments.length>0?arguments[0]:void 0),t=function(i){this===L&&t.call(P,i),r(this,T)&&r(this[T],e)&&(this[T][e]=!1),Z(this,e,k(1,i))};return o&&H&&Z(L,e,{configurable:!0,set:t}),B(e)}).prototype,"toString",function(){return this._k}),S.f=K,I.f=X,i(425).f=C.f=G,i(108).f=J,i(110).f=Q,o&&!i(65)&&p(L,"propertyIsEnumerable",J,!0),g.f=function(e){return B(d(e))}),a(a.G+a.W+a.F*!R,{Symbol:U});for(var V="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;V.length>ee;)d(V[ee++]);for(var V=z(d.store),ee=0;V.length>ee;)h(V[ee++]);a(a.S+a.F*!R,"Symbol",{for:function(e){return r(A,e+="")?A[e]:A[e]=U(e)},keyFor:function(e){if(Y(e))return m(A,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){H=!0},useSimple:function(){H=!1}}),a(a.S+a.F*!R,"Object",{create:function(e,t){return void 0===t?_(e):q(_(e),t)},defineProperty:X,defineProperties:q,getOwnPropertyDescriptor:K,getOwnPropertyNames:G,getOwnPropertySymbols:Q}),D&&a(a.S+a.F*(!R||s(function(){var e=U();return"[null]"!=N([e])||"{}"!=N({a:e})||"{}"!=N(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!Y(e)){for(var t,i,n=[e],r=1;arguments.length>r;)n.push(arguments[r++]);return"function"==typeof(t=n[1])&&(i=t),!i&&w(t)||(t=function(e,t){if(i&&(t=i.call(this,e,t)),!Y(t))return t}),n[1]=t,N.apply(D,n)}}}),U.prototype[E]||i(13)(U.prototype,E,U.prototype.valueOf),u(U,"Symbol"),u(Math,"Math",!0),u(n.JSON,"JSON",!0)},474:function(e,t,i){var n=i(63)("meta"),r=i(25),o=i(19),a=i(20).f,p=0,c=Object.isExtensible||function(){return!0},s=!i(22)(function(){return c(Object.preventExtensions({}))}),l=function(e){a(e,n,{value:{i:"O"+ ++p,w:{}}})},u=e.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,n)){if(!c(e))return"F";if(!t)return"E";l(e)}return e[n].i},getWeak:function(e,t){if(!o(e,n)){if(!c(e))return!0;if(!t)return!1;l(e)}return e[n].w},onFreeze:function(e){return s&&u.NEED&&c(e)&&!o(e,n)&&l(e),e}}},475:function(e,t,i){var n=i(37),r=i(36);e.exports=function(e,t){for(var i,o=r(e),a=n(o),p=a.length,c=0;p>c;)if(o[i=a[c++]]===t)return i}},476:function(e,t,i){var n=i(37),r=i(110),o=i(108);e.exports=function(e){var t=n(e),i=r.f;if(i)for(var a,p=i(e),c=o.f,s=0;p.length>s;)c.call(e,a=p[s++])&&t.push(a);return t}},477:function(e,t,i){var n=i(23);e.exports=Array.isArray||function(e){return"Array"==n(e)}},478:function(e,t,i){var n=i(36),r=i(425).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],p=function(e){try{return r(e)}catch(e){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?p(e):r(n(e))}},479:function(e,t,i){var n=i(108),r=i(64),o=i(36),a=i(109),p=i(19),c=i(113),s=Object.getOwnPropertyDescriptor;t.f=i(17)?s:function(e,t){if(e=o(e),t=a(t,!0),c)try{return s(e,t)}catch(e){}if(p(e,t))return r(!n.f.call(e,t),e[t])}},480:function(e,t,i){i(424)("asyncIterator")},481:function(e,t,i){i(424)("observable")},482:function(e,t,i){"use strict";var n=i(35),r=i.n(n);t.a={dataURItoBlob:function(e){for(var t=atob(e.split(",")[1]),i=e.split(",")[0].split(":")[1].split(";")[0],n=new ArrayBuffer(t.length),r=new Uint8Array(n),o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return new Blob([n],{type:i})},getLangConf:function(){return{zh:{hint:"点击，或拖动图片至此处",loading:"正在上传……",noSupported:"浏览器不支持该功能，请使用IE10以上或其他现在浏览器！",success:"上传成功",fail:"图片上传失败",preview:"头像预览",btn:{off:"取消",close:"关闭",back:"上一步",save:"保存"},error:{onlyImg:"仅限图片格式",outOfSize:"单文件大小不能超过 ",lowestPx:"图片最低像素为（宽*高）："}},en:{hint:"Click or drag the file here to upload",loading:"Uploading…",noSupported:"Browser is not supported, please use IE10+ or other browsers",success:"Upload success",fail:"Upload failed",preview:"Preview",btn:{off:"Cancel",close:"Close",back:"Back",save:"Save"},error:{onlyImg:"Image only",outOfSize:"Image exceeds size limit: ",lowestPx:"Image's size is too low. Expected at least: "}}}},effectRipple:function(e,t){var i=r()({ele:e.target,type:"hit",bgc:"rgba(0, 0, 0, 0.15)"},t),n=i.ele;if(n){var o=n.getBoundingClientRect(),a=n.querySelector(".e-ripple");switch(a?a.className="e-ripple":((a=document.createElement("span")).className="e-ripple",a.style.height=a.style.width=Math.max(o.width,o.height)+"px",n.appendChild(a)),i.type){case"center":a.style.top=o.height/2-a.offsetHeight/2+"px",a.style.left=o.width/2-a.offsetWidth/2+"px";break;default:a.style.top=e.pageY-o.top-a.offsetHeight/2-document.body.scrollTop+"px",a.style.left=e.pageX-o.left-a.offsetWidth/2-document.body.scrollLeft+"px"}return a.style.backgroundColor=i.bgc,a.className="e-ripple z-active",!1}}}},483:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.value,expression:"value"}],staticClass:"vue-image-crop-upload"},[i("div",{staticClass:"vicp-wrap"},[i("div",{staticClass:"vicp-close",on:{click:e.off}},[i("i",{staticClass:"vicp-icon4"})]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:1===e.step,expression:"step === 1"}],staticClass:"vicp-step1"},[i("div",{staticClass:"vicp-drop-area",on:{dragleave:e.preventDefault,dragover:e.preventDefault,dragenter:e.preventDefault,click:e.handleClick,drop:e.handleChange}},[i("i",{directives:[{name:"show",rawName:"v-show",value:1!==e.loading,expression:"loading !== 1"}],staticClass:"vicp-icon1"},[i("i",{staticClass:"vicp-icon1-arrow"}),e._v(" "),i("i",{staticClass:"vicp-icon1-body"}),e._v(" "),i("i",{staticClass:"vicp-icon1-bottom"})]),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:1!==e.loading,expression:"loading !== 1"}],staticClass:"vicp-hint"},[e._v(e._s(e.lang.hint))]),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:!e.isSupported,expression:"!isSupported"}],staticClass:"vicp-no-supported-hint"},[e._v(e._s(e.lang.noSupported))]),e._v(" "),1===e.step?i("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"fileinput",attrs:{type:"file"},on:{change:e.handleChange}}):e._e()]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.hasError,expression:"hasError"}],staticClass:"vicp-error"},[i("i",{staticClass:"vicp-icon2"}),e._v(" "+e._s(e.errorMsg)+"\n      ")]),e._v(" "),i("div",{staticClass:"vicp-operate"},[i("a",{on:{click:e.off,mousedown:e.ripple}},[e._v(e._s(e.lang.btn.off))])])]),e._v(" "),2===e.step?i("div",{staticClass:"vicp-step2"},[i("div",{staticClass:"vicp-crop"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticClass:"vicp-crop-left"},[i("div",{staticClass:"vicp-img-container"},[i("img",{ref:"img",staticClass:"vicp-img",style:e.sourceImgStyle,attrs:{src:e.sourceImgUrl,draggable:"false"},on:{drag:e.preventDefault,dragstart:e.preventDefault,dragend:e.preventDefault,dragleave:e.preventDefault,dragover:e.preventDefault,dragenter:e.preventDefault,drop:e.preventDefault,touchstart:e.imgStartMove,touchmove:e.imgMove,touchend:e.createImg,touchcancel:e.createImg,mousedown:e.imgStartMove,mousemove:e.imgMove,mouseup:e.createImg,mouseout:e.createImg}}),e._v(" "),i("div",{staticClass:"vicp-img-shade vicp-img-shade-1",style:e.sourceImgShadeStyle}),e._v(" "),i("div",{staticClass:"vicp-img-shade vicp-img-shade-2",style:e.sourceImgShadeStyle})]),e._v(" "),i("div",{staticClass:"vicp-range"},[i("input",{attrs:{type:"range",step:"1",min:"0",max:"100"},domProps:{value:e.scale.range},on:{input:e.zoomChange}}),e._v(" "),i("i",{staticClass:"vicp-icon5",on:{mousedown:e.startZoomSub,mouseout:e.endZoomSub,mouseup:e.endZoomSub}}),e._v(" "),i("i",{staticClass:"vicp-icon6",on:{mousedown:e.startZoomAdd,mouseout:e.endZoomAdd,mouseup:e.endZoomAdd}})])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticClass:"vicp-crop-right"},[i("div",{staticClass:"vicp-preview"},[i("div",{staticClass:"vicp-preview-item"},[i("img",{style:e.previewStyle,attrs:{src:e.createImgUrl}}),e._v(" "),i("span",[e._v(e._s(e.lang.preview))])]),e._v(" "),e.noCircle?e._e():i("div",{staticClass:"vicp-preview-item"},[i("img",{style:e.previewStyle,attrs:{src:e.createImgUrl}}),e._v(" "),i("span",[e._v(e._s(e.lang.preview))])])])])]),e._v(" "),i("div",{staticClass:"vicp-operate"},[i("a",{on:{click:function(t){e.setStep(1)},mousedown:e.ripple}},[e._v(e._s(e.lang.btn.back))]),e._v(" "),i("a",{staticClass:"vicp-operate-btn",on:{click:e.prepareUpload,mousedown:e.ripple}},[e._v(e._s(e.lang.btn.save))])])]):e._e(),e._v(" "),3===e.step?i("div",{staticClass:"vicp-step3"},[i("div",{staticClass:"vicp-upload"},[i("span",{directives:[{name:"show",rawName:"v-show",value:1===e.loading,expression:"loading === 1"}],staticClass:"vicp-loading"},[e._v(e._s(e.lang.loading))]),e._v(" "),i("div",{staticClass:"vicp-progress-wrap"},[i("span",{directives:[{name:"show",rawName:"v-show",value:1===e.loading,expression:"loading === 1"}],staticClass:"vicp-progress",style:e.progressStyle})]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.hasError,expression:"hasError"}],staticClass:"vicp-error"},[i("i",{staticClass:"vicp-icon2"}),e._v(" "+e._s(e.errorMsg)+"\n        ")]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:2===e.loading,expression:"loading === 2"}],staticClass:"vicp-success"},[i("i",{staticClass:"vicp-icon3"}),e._v(" "+e._s(e.lang.success)+"\n        ")])]),e._v(" "),i("div",{staticClass:"vicp-operate"},[i("a",{on:{click:function(t){e.setStep(2)},mousedown:e.ripple}},[e._v(e._s(e.lang.btn.back))]),e._v(" "),i("a",{on:{click:e.off,mousedown:e.ripple}},[e._v(e._s(e.lang.btn.close))])])]):e._e(),e._v(" "),i("canvas",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"canvas",attrs:{width:e.width,height:e.height}})])])},staticRenderFns:[]}},484:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"wrapper",attrs:{id:"setting"}},[i("div",{directives:[{name:"loading",rawName:"v-loading.body",value:e.isLoading,expression:"isLoading",modifiers:{body:!0}}],staticClass:"panel-default"},[i("div",{staticClass:"panel-body"},[i("div",{staticClass:"main-container"},[i("div",{staticClass:"entry-list setting"},[i("el-card",{staticClass:"box-card"},[i("div",{staticClass:"clearfix",slot:"header"},[i("el-breadcrumb",{attrs:{separator:"/"}},[i("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v(e._s(e.$t("homePage")))]),e._v(" "),i("el-breadcrumb-item",[e._v(e._s(e.$t("accountSetting")))])],1)],1),e._v(" "),i("div",{staticClass:"form form-horizontal"},[i("el-form",{ref:"fillForm",attrs:{model:e.fillForm,rules:e.rules}},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"col-sm-3 control-label"},[e._v(e._s(e.$t("setUsername"))),i("em",[e._v("*")]),e._v(":")]),e._v(" "),i("div",{staticClass:"col-sm-9"},[i("el-input",{directives:[{name:"model",rawName:"v-model",value:e.fillForm.username,expression:"fillForm.username"}],attrs:{placeholder:"",disabled:!0},domProps:{value:e.fillForm.username},on:{input:function(t){e.fillForm.username=t}}})],1)]),e._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"col-sm-3 control-label"},[e._v(e._s(e.$t("setNickname"))+":")]),e._v(" "),i("div",{staticClass:"col-sm-9"},[i("el-form-item",{attrs:{prop:"profile.nickname"}},[i("el-input",{directives:[{name:"model",rawName:"v-model",value:e.fillForm.profile.nickname,expression:"fillForm.profile.nickname"}],attrs:{placeholder:""},domProps:{value:e.fillForm.profile.nickname},on:{input:function(t){e.fillForm.profile.nickname=t}}})],1)],1)]),e._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"col-sm-3 control-label"},[e._v(e._s(e.$t("personalWebsite"))+":")]),e._v(" "),i("div",{staticClass:"col-sm-9"},[i("el-form-item",{attrs:{prop:"profile.website"}},[i("el-input",{directives:[{name:"model",rawName:"v-model",value:e.fillForm.profile.website,expression:"fillForm.profile.website"}],attrs:{placeholder:""},domProps:{value:e.fillForm.profile.website},on:{input:function(t){e.fillForm.profile.website=t}}})],1)],1)]),e._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"col-sm-3 control-label"},[e._v(e._s(e.$t("profile"))+":")]),e._v(" "),i("div",{staticClass:"col-sm-9"},[i("el-input",{directives:[{name:"model",rawName:"v-model",value:e.fillForm.profile.description,expression:"fillForm.profile.description"}],attrs:{type:"textarea",autosize:{minRows:4,maxRows:6},maxlength:140,placeholder:""},domProps:{value:e.fillForm.profile.description},on:{input:function(t){e.fillForm.profile.description=t}}})],1)])])],1),e._v(" "),i("div",{staticClass:"form-group operation-area"},[i("div",{staticClass:"col-sm-offset-3 col-sm-9 no-padding"},[i("el-button",{attrs:{loading:e.isLoading,type:"primary"},on:{click:e.onSaveClick}},[e._v(e._s(e.$t("saveSeting")))])],1)]),e._v(" "),e.tipMessageObj.message?i("el-alert",{attrs:{title:e.tipMessageObj.message,type:e.tipMessageObj.type}}):e._e(),e._v(" "),i("hr"),e._v(" "),i("div",{staticClass:"form-group"},[i("div",{staticClass:"col-sm-12"},[i("div",{staticClass:"update-avatar-area"},[i("img",{staticClass:"preview-avatar",attrs:{src:e.imgDataUrl}}),e._v(" "),i("br"),e._v(" "),i("el-button",{attrs:{loading:e.isLoading,type:"text"},on:{click:e.onUpdateAvatarClick}},[e._v("\n                    "+e._s(e.$t("updateAvatar"))+"\n                  ")])],1)])])],1)],1),e._v(" "),i("aside-list")],1)])]),e._v(" "),i("upload-avatar",{directives:[{name:"model",rawName:"v-model",value:e.isShowUploadAvatar,expression:"isShowUploadAvatar"}],attrs:{field:"image",width:100,height:100,url:"/api/uploadAvatar",params:e.params,headers:e.headers,"img-format":"png"},domProps:{value:e.isShowUploadAvatar},on:{"crop-success":e.onCropSuccess,"crop-upload-success":e.onCropUploadSuccess,"crop-upload-fail":e.onCropUploadFail,input:function(t){e.isShowUploadAvatar=t}}})],1)},staticRenderFns:[]}}});