(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{389:function(t,e,i){i(426);var s=i(9)(i(424),i(420),null,null);t.exports=s.exports},390:function(t,e,i){i(430);var s=i(9)(i(428),i(427),null,null);t.exports=s.exports},392:function(t,e,i){i(441);var s=i(9)(i(439),i(435),null,null);t.exports=s.exports},394:function(t,e,i){i(449);var s=i(9)(i(447),i(446),"data-v-ca846402",null);t.exports=s.exports},395:function(t,e,i){i(453);var s=i(9)(i(451),i(450),null,null);t.exports=s.exports},397:function(t,e,i){i(461);var s=i(9)(i(459),i(458),null,null);t.exports=s.exports},400:function(t,e,i){i(474);var s=i(9)(i(472),i(471),null,null);t.exports=s.exports},402:function(t,e,i){var s=i(9)(i(480),i(479),null,null);t.exports=s.exports},408:function(t,e){"use strict";e.a={data:function(){var t=this;return{title:t.$t("niceLinksStr"),siteTitle:t.$t("niceLinksStr"),titleTemplate:"%s | "+this.$t("niceLinksStr"),keywords:t.$t("keywords"),description:t.$t("description")}},created:function(){},metaInfo:function(){var t=this,e=this.title?this.title+" - "+this.siteTitle:""+this.siteTitle;return{title:this.title,titleTemplate:function(e){return e?e+" - "+t.siteTitle:""+t.siteTitle},meta:[{vmid:"title",name:"title",content:e},{vmid:"keywords",name:"keywords",content:this.keywords},{vmid:"description",name:"description",content:this.description},{vmid:"og:type",property:"og:type",content:"website"},{vmid:"og:title",property:"og:title",content:e},{vmid:"og:image",property:"og:image",content:"https://static.nicelinks.site/static/img/favicons/favicon.png"},{vmid:"og:keywords",property:"og:keywords",content:this.keywords},{vmid:"og:description",property:"og:description",content:this.description}]}},mounted:function(){},methods:{}}},409:function(t,e,i){i(413);var s=i(9)(i(411),i(410),null,null);t.exports=s.exports},410:function(t){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"jade-markdown"},[i("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.onHandleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:t.$t("write"),name:"write"}}),t._v(" "),i("el-tab-pane",{attrs:{label:t.$t("preview"),name:"preview"}})],1),t._v(" "),"write"===t.activeName?i("div",{staticClass:"write-area"},[i("el-input",{attrs:{type:"textarea",placeholder:t.placeholder,maxlength:3600,autosize:{minRows:6,maxRows:21}},on:{change:t.onChangeEvent},model:{value:t.originalVal,callback:function(e){t.originalVal=e},expression:"originalVal"}})],1):t._e(),t._v(" "),"preview"===t.activeName?i("preview-md",{staticClass:"preview-area",attrs:{value:t.originalVal}}):t._e()],1)},staticRenderFns:[]}},411:function(t,e,i){"use strict";i.r(e);var s=i(59),a=i.n(s);e.default={name:"Markdown",data:function(){return{activeName:"write",originalVal:""}},props:{value:{type:String,default:""},placeholder:{type:String,default:""}},watch:{value:function(t){this.originalVal=t}},components:{PreviewMd:a.a},created:function(){},mounted:function(){this.originalVal=this.value},methods:{onChangeEvent:function(t){this.$emit("input",t)},onHandleClick:function(){}},locales:{en:{write:"Write",preview:"Preview"},zh:{write:"编写",preview:"预览"}}}},413:function(){},416:function(t){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"login-wrap"},[i("div",{directives:[{name:"loading",rawName:"v-loading.body",value:t.isLoading,expression:"isLoading",modifiers:{body:!0}}],staticClass:"login-box"},[i("a",{staticClass:"nicelinks-logo gtag-track",attrs:{href:"/explore/all","data-action":"login-logo-link","data-category":"login","data-label":"login-logo-link"}},[i("img",{attrs:{src:"/static/img/favicons/safari-pinned-tab.svg",alt:t.$t("niceLinksStr")}}),t._v(" "),i("h1",[t._v(t._s(t.$t("niceLinksStr")))])]),t._v(" "),i("div",{staticClass:"form-group"},[t.tipMessageObj.message?i("el-alert",{attrs:{title:t.tipMessageObj.message,type:t.tipMessageObj.type}}):t._e()],1),t._v(" "),i("el-form",{ref:"validateForm",attrs:{model:t.account,rules:t.rules}},[t.isSignUpPage?i("el-form-item",{attrs:{prop:"username"}},[i("el-input",{attrs:{icon:t.checkLoading?"loading":"",autofocus:!0},on:{blur:t.onBlurUsername},nativeOn:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.onLoginClick(e):null}},model:{value:t.account.username,callback:function(e){t.$set(t.account,"username","string"==typeof e?e.trim():e)},expression:"account.username"}},[i("template",{slot:"prepend"},[i("icon",{staticClass:"icons",attrs:{name:"login-user"}})],1)],2)],1):t._e(),t._v(" "),t.isSignUpPage?i("el-form-item",{attrs:{prop:"email"}},[i("el-input",{nativeOn:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.onLoginClick(e):null}},model:{value:t.account.email,callback:function(e){t.$set(t.account,"email","string"==typeof e?e.trim():e)},expression:"account.email"}},[i("template",{slot:"prepend"},[i("icon",{staticClass:"icons",attrs:{name:"login-email"}})],1)],2)],1):t._e(),t._v(" "),t.isSignUpPage?t._e():i("el-form-item",{attrs:{prop:"userinfo"}},[i("el-input",{nativeOn:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.onLoginClick(e):null}},model:{value:t.account.userinfo,callback:function(e){t.$set(t.account,"userinfo","string"==typeof e?e.trim():e)},expression:"account.userinfo"}},[i("template",{slot:"prepend"},[i("icon",{staticClass:"icons",attrs:{name:"login-user"}})],1)],2)],1),t._v(" "),i("el-form-item",{attrs:{prop:"password"}},[i("el-input",{attrs:{type:"password"},nativeOn:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.onLoginClick(e):null}},model:{value:t.account.password,callback:function(e){t.$set(t.account,"password",e)},expression:"account.password"}},[i("template",{slot:"prepend"},[i("icon",{staticClass:"icons",attrs:{name:"password"}})],1)],2)],1),t._v(" "),t.isSignUpPage?i("el-button",{attrs:{size:"large"},on:{click:t.onSignupClick}},[t._v(t._s(t.$t("signUp")))]):i("el-button",{attrs:{type:"primary",size:"large"},on:{click:t.onLoginClick}},[t._v(t._s(t.$t("signIn")))]),t._v(" "),this.isSignUpPage?t._e():i("el-button",{attrs:{type:"text",size:"large"},on:{click:t.onForgotPwdClick}},[t._v(t._s(t.$t("forgetPwd")))])],1)],1),t._v(" "),i("div",{staticClass:"form-group login-bottom-tip"},[i("p",{staticClass:"text-center"},[t._v(t._s(t.isSignUpPage?t.$t("signupBottomTip"):t.$t("signinBottomTip"))+"\n      "),i("a",{staticClass:"el-button--text",attrs:{href:"javascript:;"},on:{click:t.onBottomClick}},[t._v("\n      "+t._s(t.isSignUpPage?t.$t("signIn"):t.$t("signUp")))])])])])},staticRenderFns:[]}},417:function(t,e,i){"use strict";i.r(e);var s=i(408);e.default={name:"Login",data:function(){return{isLoading:!1,checkLoading:!1,tipMessageObj:{},account:{email:"",username:"",userinfo:"",password:""},isLegalUsername:!1,rules:{username:[{required:!0,validator:this.validateUsername,trigger:"change,blur"}],email:[{required:!0,validator:this.validateEmail,trigger:"change,blur"}],userinfo:[{required:!0,validator:this.validateUserinfo,trigger:"change,blur"}],password:[{required:!0,validator:this.validatePassword,trigger:"change,blur"}]}}},mixins:[s.a],created:function(){},mounted:function(){this.updatePageTitle(this.isSignUpPage)},components:{},computed:{isSignUpPage:function(){return"/register"===this.$route.path}},watch:{isSignUpPage:function(t){this.updatePageTitle(t)}},methods:{updatePageTitle:function(t){var e=t?"signUp":"signIn";this.title=this.$t(e)},setMessageTip:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"error";this.tipMessageObj={message:t,type:e}},queryUsername:function(){var t=this;this.checkLoading=!0;var e={username:this.account.username};this.$apis.checkIsExisted(e).then(function(){t.isLegalUsername=!0,t.checkLoading=!1,t.setMessageTip(null)}).catch(function(e){t.checkLoading=!1,t.isLegalUsername=!1,t.setMessageTip(e)})},validateUsername:function(t,e,i){return!e||0>=e.length?i(new Error(this.$t("enterUsernameTip"))):this.$util.isLegalUsername(e)?void i():i(new Error(this.$t("enterLegalUsernameTip")))},validateUserinfo:function(t,e,i){return!e||0>=e.length?i(new Error(this.$t("enterUserinfoTip"))):void i()},validateEmail:function(t,e,i){!e||0>=e.length?i(new Error(this.$t("enterEmailTip"))):this.$util.isLegalEmail(e)?i():i(new Error(this.$t("enterLegalEmailTip")))},validatePassword:function(t,e,i){this.isSignUpPage?!e||0>=e.length?i(new Error(this.$t("enterPwdTip"))):this.$util.isLegalPassword(e)?i():i(new Error(this.$t("enterLegalPwdTip"))):i()},onLoginClick:function(){var t=this;this.$gtagTracking("signin","login","login-signin"),this.isLoading=!0,this.$refs.validateForm.validate(function(e){if(!e)return t.isLoading=!1;var i=t.$util.isLegalEmail(t.account.userinfo),s={email:i?t.account.userinfo:"",username:i?"":t.account.userinfo,password:t.$util.encryptPwd(t.account.password)};t.$apis.login(s).then(function(e){t.$vuexSetUserInfo(e);var i=t.$store&&t.$store.state.lastPathUrl;i?document.location.href=i:t.$router.push("/")}).catch(function(e){t.isLoading=!1,t.setMessageTip(e)})})},onSignupClick:function(){var t=this;this.$gtagTracking("signup","register","register-signup"),this.$refs.validateForm.validate(function(e){if(!e)return!1;t.isLoading=!1;var i={email:t.account.email,username:t.account.username,password:t.$util.encryptPwd(t.account.password)};t.$apis.signup(i).then(function(e){t.setMessageTip(e,"success")}).catch(function(e){t.isLoading=!1,t.setMessageTip(e)})})},onForgotPwdClick:function(){this.$gtagTracking("forgot-pwd","login","forgot-pwd"),this.$router.push("/forgot-pwd")},onBottomClick:function(){var t=this.isSignUpPage?["signin","register","register-signin"]:["register","login","login-register"];this.$gtagTracking.apply(this,t),this.$router.push(this.isSignUpPage?"/login":"/register")},onBlurUsername:function(){this.isSignUpPage&&this.queryUsername()}},locales:{en:{enterUsernameTip:"Please enter username(Only letters and numbers，3-16)",enterUserinfoTip:"Please enter username Or email",enterLegalUsernameTip:"Please enter username(Only letters and numbers，3-16)",signupBottomTip:"Don't have an account ?",signinBottomTip:"Already have an account?"},zh:{enterUsernameTip:"请输入用户名(仅限字母和数字，3至16位)",enterUserinfoTip:"请输入用户名或邮箱",enterLegalUsernameTip:"请输入用户名(仅限字母和数字，3至16位)",signupBottomTip:"你已拥有一个账号？",signinBottomTip:"还未拥有一个账号？"}}}},419:function(){},420:function(t){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrapper",attrs:{id:"manage-sentences"}},[i("div",{directives:[{name:"loading",rawName:"v-loading.body",value:t.isLoading,expression:"isLoading",modifiers:{body:!0}}],staticClass:"panel-default"},[i("div",{staticClass:"panel-body"},[i("div",{staticClass:"main-container"},[i("el-button",{attrs:{round:"",icon:"el-icon-plus"},on:{click:function(){t.isShowDlgFlag=!0}}},[t._v("\n          "+t._s(t.$t("shareNewSentences"))+"\n        ")]),t._v(" "),i("div",{staticClass:"sentences-list"},[i("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:t.$t("approved"),name:"first"}}),t._v(" "),i("el-tab-pane",{attrs:{label:t.$t("unapproved"),name:"second"}})],1),t._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:""}},[i("el-table-column",{attrs:{prop:"type",label:t.$t("type"),width:"100",filters:t.sentencesTypeList,"filter-method":t.filterTag,"filter-placement":"bottom-end"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-tag",{class:e.row.type+"-color",attrs:{"disable-transitions":""}},[t._v(t._s(t.getSentenceTypeName(e.row.type))+"\n                ")])]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"content",label:t.$t("content"),"show-overflow-tooltip":"","min-width":"100"}}),t._v(" "),i("el-table-column",{attrs:{prop:"createdBy",label:t.$t("creater"),width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text"},on:{click:function(){t.onCreaterClick(e.row.createdBy)}}},[t._v("\n                  "+t._s(e.row.createdBy)+"\n                ")])]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"createTime",label:t.$t("createdDateStr"),width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("dateConvert")(e.row.createTime)))]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("operation"),width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"small"},on:{click:function(){t.handleEdit(e.row)}}},[t._v(t._s(t.$t("edit")))]),t._v(" "),i("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(){t.handleDelete(e.row)}}},[t._v(t._s(t.$t("delete")))])]}}])})],1),t._v(" "),i("div",{staticClass:"table-operate"},[i("el-pagination",{attrs:{total:t.totalCount,"current-page":t.tableControl.pageCount,"page-size":t.tableControl.pageSize,"page-sizes":[20,50,100],layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)],1)])]),t._v(" "),i("sentences-dialog",{attrs:{pdata:t.currentRowData},on:{"update-success":t.onUpdateSuccess},model:{value:t.isShowDlgFlag,callback:function(e){t.isShowDlgFlag=e},expression:"isShowDlgFlag"}})],1)},staticRenderFns:[]}},421:function(t){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"edit-dialog"}},[i("el-dialog",{directives:[{name:"loading",rawName:"v-loading.body",value:t.isLoading,expression:"isLoading",modifiers:{body:!0}}],attrs:{stripe:"",title:t.$t("shareNewSentences"),visible:t.isShowDlgFlag,size:"small"},on:{"update:visible":function(e){t.isShowDlgFlag=e}}},[i("div",{staticClass:"form form-horizontal"},[i("el-form",{ref:"fillForm",attrs:{model:t.fillForm,rules:t.rules}},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"col-sm-3 control-label"},[t._v(" "+t._s(this.$t("type"))+" "),i("em",[t._v("*")]),t._v("：")]),t._v(" "),i("div",{staticClass:"col-sm-8"},[i("el-form-item",{attrs:{prop:"type"}},[i("el-select",{staticClass:"wrap-block",attrs:{placeholder:this.$t("pleaseSelect")+this.$t("type")},model:{value:t.fillForm.type,callback:function(e){t.$set(t.fillForm,"type",e)},expression:"fillForm.type"}},t._l(t.sentencesTypeList,function(e){return i("el-option",{key:e.value,attrs:{label:t.$t(e.text),value:e.value}})}))],1)],1)]),t._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"col-sm-3 control-label"},[t._v(" "+t._s(this.$t("content"))+" ：")]),t._v(" "),i("div",{staticClass:"col-sm-8"},[i("markdown",{attrs:{placeholder:this.$t("pleaseSelect")+this.$t("content")},model:{value:t.fillForm.content,callback:function(e){t.$set(t.fillForm,"content",e)},expression:"fillForm.content"}})],1)]),t._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"col-sm-3 control-label"},[t._v(" "+t._s(this.$t("isAcive"))+" ：")]),t._v(" "),i("div",{staticClass:"col-sm-8"},[i("el-switch",{attrs:{"on-text":t.$t("yes"),"off-text":t.$t("no"),"on-color":"#13ce66","off-color":"#ff4949"},model:{value:t.fillForm.active,callback:function(e){t.$set(t.fillForm,"active",e)},expression:"fillForm.active"}})],1)])])],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(){t.isShowDlgFlag=!1}}},[t._v(t._s(this.$t("cancel")))]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.onCommitClick}},[t._v(t._s(this.$t("confirm")))])],1)])],1)},staticRenderFns:[]}},422:function(t,e,i){"use strict";i.r(e);var s=i(7),a=i(409),n=i.n(a);e.default={name:"EditDialog",data:function(){return{isShowDlgFlag:!1,isLoading:!1,fillForm:{type:"",content:"",active:!1},rules:{content:[{required:!0,message:this.$t("pleaseEnter")+this.$t("linkNameStr"),trigger:"change,blur"}],type:[{required:!0,message:this.$t("pleaseSelect")+this.$t("type"),trigger:"change,blur"}]}}},components:{Markdown:n.a},props:{value:{type:Boolean,default:!1},pdata:{type:Object,default:{}}},computed:{sentencesTypeList:function(){var t=this;return s.default.sentences.map(function(e){return{text:e.text[t.$lang],value:e.value}})}},watch:{value:function(t){this.isShowDlgFlag=t},isShowDlgFlag:function(t){t||(this.fillForm={type:"",content:"",active:!1}),this.$emit("input",t)},pdata:function(t){this.fillForm=this.$_.cloneDeep(t)}},methods:{onCommitClick:function(){var t=this;this.$refs.fillForm.validate(function(e){if(e){t.isLoading=!0;var i=t.$_.clone(t.fillForm,!0);i.managerId=t.userInfo&&t.userInfo._id,i.createdBy=t.userInfo&&t.userInfo.username,i.managerRole=t.userInfo&&t.userInfo.role,t.$apis.updateSentences(i).then(function(){t.isLoading=!1,t.isShowDlgFlag=!1,t.$message({message:t.$t("successAddTip"),type:"success"}),t.$emit("update-success")}).catch(function(e){t.isLoading=!1,t.$message.error(""+e)})}})}},locales:{en:{successAddTip:"Well, you have successfully updated the sentence"},zh:{successAddTip:"干的漂亮，您已成功更新该箴言"}}}},423:function(t,e,i){var s=i(9)(i(422),i(421),null,null);t.exports=s.exports},424:function(t,e,i){"use strict";i.r(e);var s=i(28),a=i.n(s),n=i(423),l=i.n(n),o=i(7),r=i(408);e.default={name:"ManageSentences",mixins:[r.a],data:function(){return{title:this.$t("manageSentences"),isLoading:!1,isShowDlgFlag:!1,activeName:"first",tableData:[],totalCount:0,tableControl:{pageCount:1,pageSize:20,sortType:-1,sortTarget:"createTime"},currentRowData:{}}},components:{SentencesDialog:l.a},computed:{sentencesTypeList:function(){var t=this;return o.default.sentences.map(function(e){return{text:e.text[t.$lang],value:e.value}})}},created:function(){this.initFetch()},watch:{activeName:function(){this.initFetch()}},methods:{initFetch:function(){this.requestSentences(),this.requestSentencesCount()},requestSentences:function(){var t=this,e={};a()(e,this.tableControl),e.active="first"===this.activeName,this.isLoading=!0,this.$apis.getSentences(e).then(function(e){t.isLoading=!1,t.tableData=e}).catch(function(e){t.isLoading=!1,t.$message.error(""+e)}).finally(function(){t.isLoading=!1})},requestSentencesCount:function(){var t=this,e={active:"first"===this.activeName};this.$apis.getSentencesCount(e).then(function(e){t.totalCount=e}).catch(function(e){t.$message.error(""+e)})},fillThemeName:function(t,e){var i="";return this.themeList[t].map(function(t){t.value===e&&(i=t.key)}),i},getSentenceTypeName:function(t){return this.sentencesTypeList.filter(function(e){return e.value===t})[0].text},handleClick:function(){},handleSizeChange:function(t){this.tableControl.pageSize=t,this.initFetch()},handleCurrentChange:function(t){this.tableControl.pageCount=t,this.initFetch()},handleEdit:function(t){this.isShowDlgFlag=!0,this.currentRowData=t},handleDelete:function(t){var e=this;this.$confirm("此操作将永久删除该条目, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.operatorId=e.userInfo&&e.userInfo._id,e.isLoading=!0,e.$apis.removeSentences(t).then(function(){e.$message({type:"success",message:"删除成功!"}),e.initFetch(),e.isLoading=!1}).catch(function(t){e.isLoading=!1,e.$message.error(""+t)})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},onUpdateSuccess:function(){this.initFetch()},onCreaterClick:function(t){this.$router.push("/member/"+t)}},locales:{en:{approved:"Approved",unapproved:"Unapproved",isActived:"Is Actived",creater:"Creater"},zh:{approved:"已审核",unapproved:"未审核",isActived:"是否已激活",creater:"创建者"}}}},426:function(){},427:function(t){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrapper",attrs:{id:"manage-users"}},[i("div",{directives:[{name:"loading",rawName:"v-loading.body",value:t.isLoading,expression:"isLoading",modifiers:{body:!0}}],staticClass:"panel-default"},[i("div",{staticClass:"panel-body"},[i("div",{staticClass:"main-container"},[i("div",{staticClass:"entry-list"},[i("el-carousel",{staticClass:"jade-gg-body",attrs:{trigger:"click","indicator-position":"outside",interval:3600,height:"256px"}},t._l(t.tableData,function(t,e){return i("el-carousel-item",{key:e},[i("a",{attrs:{href:t.path,target:"_blank",rel:"noopener"}},[i("img",{attrs:{src:t.image}})])])})),t._v(" "),i("div",{staticClass:"form-group"},[i("el-button",{attrs:{plain:!0,type:"success",size:"large"},on:{click:t.onAddAdsClick}},[t._v("添加广告\n            ")])],1),t._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:""}},[i("el-table-column",{attrs:{prop:"path",label:"地址","min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-input",{model:{value:e.row.path,callback:function(i){t.$set(e.row,"path",i)},expression:"scope.row.path"}})]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"image",label:"图片","min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-input",{model:{value:e.row.image,callback:function(i){t.$set(e.row,"image",i)},expression:"scope.row.image"}})]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"image",label:"描述","min-width":"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-input",{model:{value:e.row.alt,callback:function(i){t.$set(e.row,"alt",i)},expression:"scope.row.alt"}})]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"image",label:"排序","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-input",{model:{value:e.row.sort,callback:function(i){t.$set(e.row,"sort",i)},expression:"scope.row.sort"}})]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"active",label:t.$t("isActived"),width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-switch",{attrs:{"on-text":t.$t("yes"),"off-text":t.$t("no"),"on-color":"#13ce66","off-color":"#ff4949"},model:{value:e.row.active,callback:function(i){t.$set(e.row,"active",i)},expression:"scope.row.active"}})]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"modifyTime",label:"修改时间",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(t._f("dateConvert")(e.row.modifyTime))+"\n              ")]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("operation"),width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"small"},on:{click:function(){t.handleSave(e.row)}}},[t._v(t._s(t.$t("save"))+"\n                ")]),t._v(" "),i("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(){t.handleDelete(e.row)}}},[t._v(t._s(t.$t("delete"))+"\n                ")])]}}])})],1)],1)])])])])},staticRenderFns:[]}},428:function(t,e,i){"use strict";i.r(e);var s=i(408);e.default={name:"ManageAdverts",mixins:[s.a],data:function(){return{title:this.$t("manageAdverts"),isLoading:!1,tableData:[]}},components:{},created:function(){this.initFetch()},watch:{},methods:{initFetch:function(){var t=this;this.isLoading=!0,this.$apis.getAdverts({}).then(function(e){t.isLoading=!1,t.tableData=e}).catch(function(e){t.isLoading=!1,t.$message.error(""+e)}).finally(function(){t.isLoading=!1})},handleSave:function(t){var e=this;this.isLoading=!0,this.$apis.updateAdverts(t).then(function(){e.isLoading=!1,e.$message({message:"已成功保存",type:"success"})}).catch(function(t){e.isLoading=!1,e.$message.error(""+t)}).finally(function(){e.isLoading=!1})},handleDelete:function(t){var e=this;this.$confirm("此操作将永久删除该条目, 是否继续?",this.$t("warmReminder"),{confirmButtonText:this.$t("confirm"),cancelButtonText:this.$t("cancel"),type:"warning"}).then(function(){e.isLoading=!0,e.$apis.removeAdverts(t).then(function(){e.$message({message:"已成功删除",type:"success"}),e.initFetch()}).catch(function(t){e.isLoading=!1,e.$message.error(""+t)})}).catch(function(){})},onAddAdsClick:function(){this.tableData.push({path:"",image:"",alt:"",active:!0,sort:0,modifyTime:new Date})}},locales:{en:{approved:"Approved",unapproved:"Unapproved",isActived:"Is Actived",creater:"Creater"},zh:{approved:"已审核",unapproved:"未审核",isActived:"是否已激活",creater:"创建者"}}}},430:function(){},435:function(t){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrapper",attrs:{id:"manage-links"}},[i("div",{directives:[{name:"loading",rawName:"v-loading.body",value:t.isLoading,expression:"isLoading",modifiers:{body:!0}}],staticClass:"panel-default"},[i("div",{staticClass:"panel-body"},[i("div",{staticClass:"main-container"},[i("div",{staticClass:"entry-list"},[i("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:t.$t("unapproved"),name:"first"}}),t._v(" "),i("el-tab-pane",{attrs:{label:t.$t("approved"),name:"second"}})],1),t._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:""}},[i("el-table-column",{attrs:{prop:"classify",label:t.$t("linkClassifyStr"),width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                "+t._s(t.$t(t.classifyList[e.row.classify].name))+"\n              ")]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"createdBy",label:t.$t("creater"),width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text"},on:{click:function(){t.onCreaterClick(e.row.createdBy)}}},[t._v("\n                  "+t._s(e.row.createdBy)+"\n                ")])]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"theme",label:t.$t("linkThemeStr"),width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(t.fillThemeName(e.row.classify,e.row.theme))+"\n              ")]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"urlPath",label:t.$t("linkAddressStr"),"min-width":"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("a",{staticClass:"title-link",attrs:{href:e.row.urlPath,target:"_blank",rel:"noopener"}},[t._v("\n                  "+t._s(e.row.title)+"\n                ")])]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"created",label:t.$t("createdDateStr"),width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("dateConvert")(e.row.created)))]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("operation"),width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"small"},on:{click:function(){t.handleEdit(e.row)}}},[t._v(t._s(t.$t("edit")))]),t._v(" "),i("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(){t.handleDelete(e.row)}}},[t._v(t._s(t.$t("delete")))])]}}])})],1),t._v(" "),i("div",{staticClass:"table-operate"},[i("el-pagination",{attrs:{total:t.tableControl.totalCount,"current-page":t.tableControl.pageCount,"page-size":t.tableControl.pageSize,"page-sizes":[20,50,100],layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)])])]),t._v(" "),i("edit-dialog",{attrs:{pdata:t.currentRowData},on:{"update-success":t.onUpdateSuccess},model:{value:t.isShowDlgFlag,callback:function(e){t.isShowDlgFlag=e},expression:"isShowDlgFlag"}})],1)},staticRenderFns:[]}},436:function(t){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"edit-dialog"}},[i("el-dialog",{directives:[{name:"loading",rawName:"v-loading.body",value:t.isLoading,expression:"isLoading",modifiers:{body:!0}}],attrs:{stripe:"",title:t.$t("shareNewLink"),visible:t.isShowDlgFlag,size:"small"},on:{"update:visible":function(e){t.isShowDlgFlag=e}}},[i("div",{staticClass:"form form-horizontal"},[i("el-form",{ref:"fillForm",attrs:{model:t.fillForm,rules:t.rules}},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"col-sm-3 control-label"},[t._v(" "+t._s(this.$t("linkAddressStr"))+" "),i("em",[t._v("*")]),t._v("：")]),t._v(" "),i("div",{staticClass:"col-sm-8"},[i("el-form-item",{attrs:{prop:"urlPath"}},[i("el-input",{attrs:{placeholder:this.$t("pleaseEnter")+this.$t("linkAddressStr")},model:{value:t.fillForm.urlPath,callback:function(e){t.$set(t.fillForm,"urlPath",e)},expression:"fillForm.urlPath"}})],1)],1)]),t._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"col-sm-3 control-label"},[t._v(" "+t._s(this.$t("linkNameStr"))+" "),i("em",[t._v("*")]),t._v("：")]),t._v(" "),i("div",{staticClass:"col-sm-8"},[i("el-form-item",{attrs:{prop:"title"}},[i("el-input",{attrs:{placeholder:this.$t("pleaseEnter")+this.$t("linkNameStr")},model:{value:t.fillForm.title,callback:function(e){t.$set(t.fillForm,"title",e)},expression:"fillForm.title"}})],1)],1)]),t._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"col-sm-3 control-label"},[t._v(" "+t._s(this.$t("linkClassifyStr"))+" "),i("em",[t._v("*")]),t._v("：")]),t._v(" "),i("div",{staticClass:"col-sm-8"},[i("el-form-item",{attrs:{prop:"classify"}},[i("el-select",{staticClass:"wrap-block",attrs:{placeholder:this.$t("pleaseSelect")+this.$t("linkClassifyStr")},model:{value:t.fillForm.classify,callback:function(e){t.$set(t.fillForm,"classify",e)},expression:"fillForm.classify"}},t._l(t.classifyList,function(e){return i("el-option",{key:e.key,attrs:{label:t.$t(e.name),value:e.value}})}))],1)],1)]),t._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"col-sm-3 control-label"},[t._v(" "+t._s(this.$t("linkThemeStr"))+" "),i("em",[t._v("*")]),t._v("：")]),t._v(" "),i("div",{staticClass:"col-sm-8"},[i("el-form-item",{attrs:{prop:"theme"}},[i("el-select",{staticClass:"wrap-block",attrs:{placeholder:this.$t("pleaseSelect")+this.$t("linkThemeStr")},model:{value:t.fillForm.theme,callback:function(e){t.$set(t.fillForm,"theme",e)},expression:"fillForm.theme"}},t._l(t.themeList,function(e){return i("el-option",{key:e.key,attrs:{label:"en"===t.$getCurrentLang()?e.value:e.key,value:e.value}})}))],1)],1)]),t._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"col-sm-3 control-label"},[t._v(" "+t._s(this.$t("linkTagsStr"))+" "),i("em",[t._v("*")]),t._v("：")]),t._v(" "),i("div",{staticClass:"col-sm-8"},[i("el-form-item",{attrs:{prop:"tags"}},[i("el-select",{staticClass:"wrap-block",attrs:{"allow-create":"",multiple:"",filterable:"","multiple-limit":3,placeholder:this.$t("pleaseSelect")+this.$t("linkTagsStr")},model:{value:t.fillForm.tags,callback:function(e){t.$set(t.fillForm,"tags",e)},expression:"fillForm.tags"}},t._l(t.tagsList,function(t,e){return i("el-option",{key:e,attrs:{label:t,value:t}})}))],1)],1)]),t._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"col-sm-3 control-label"},[t._v(" "+t._s(this.$t("linkKeywordStr"))+" ：")]),t._v(" "),i("div",{staticClass:"col-sm-8"},[i("el-form-item",{attrs:{prop:"keywords"}},[i("el-input",{attrs:{type:"textarea",maxlength:360,autosize:{minRows:2,maxRows:10},placeholder:this.$t("pleaseSelect")+this.$t("linkKeywordStr")},model:{value:t.fillForm.keywords,callback:function(e){t.$set(t.fillForm,"keywords",e)},expression:"fillForm.keywords"}})],1)],1)]),t._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"col-sm-3 control-label"},[t._v(" "+t._s(this.$t("linkDescStr"))+" "),i("em",[t._v("*")]),t._v("：")]),t._v(" "),i("div",{staticClass:"col-sm-8"},[i("el-form-item",{attrs:{prop:"desc"}},[i("el-input",{attrs:{type:"textarea",maxlength:360,autosize:{minRows:3,maxRows:10},placeholder:this.$t("pleaseSelect")+this.$t("linkDescStr")},model:{value:t.fillForm.desc,callback:function(e){t.$set(t.fillForm,"desc",e)},expression:"fillForm.desc"}})],1)],1)]),t._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"col-sm-3 control-label"},[t._v(" "+t._s(this.$t("linkReviewStr"))+" ：")]),t._v(" "),i("div",{staticClass:"col-sm-8"},[i("markdown",{attrs:{placeholder:this.$t("pleaseSelect")+this.$t("linkReviewStr")},model:{value:t.fillForm.review,callback:function(e){t.$set(t.fillForm,"review",e)},expression:"fillForm.review"}})],1)]),t._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"col-sm-3 control-label"},[t._v(" "+t._s(this.$t("isAcive"))+" ：")]),t._v(" "),i("div",{staticClass:"col-sm-8"},[i("el-switch",{attrs:{"on-text":t.$t("yes"),"off-text":t.$t("no"),"on-color":"#13ce66","off-color":"#ff4949"},model:{value:t.fillForm.active,callback:function(e){t.$set(t.fillForm,"active",e)},expression:"fillForm.active"}})],1)])])],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(){t.isShowDlgFlag=!1}}},[t._v(t._s(this.$t("cancel")))]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.onCommitClick}},[t._v(t._s(this.$t("confirm")))])],1)])],1)},staticRenderFns:[]}},437:function(t,e,i){"use strict";i.r(e);var s=i(7),a=i(409),n=i.n(a);e.default={name:"EditDialog",data:function(){return{isShowDlgFlag:!1,isLoading:!1,fillForm:{urlPath:"",title:"",desc:"",classify:"",theme:"",tags:[],review:"",active:!1},themeList:[],tagsList:s.default.tags,classifyList:s.default.classify,rules:{urlPath:[{required:!0,validator:this.$verifyUrl,trigger:"change,blur"}],title:[{required:!0,message:this.$t("pleaseEnter")+this.$t("linkNameStr"),trigger:"change,blur"}],theme:[{required:!0,message:this.$t("pleaseSelect")+this.$t("linkThemeStr"),trigger:"change,blur"}],classify:[{required:!0,message:this.$t("pleaseSelect")+this.$t("linkClassifyStr"),trigger:"change,blur"}]}}},components:{Markdown:n.a},props:{value:{type:Boolean,default:!1},pdata:{type:Object,default:{}}},computed:{},watch:{value:function(t){this.isShowDlgFlag=t},isShowDlgFlag:function(t){this.$emit("input",t)},"fillForm.classify":function(){this.themeList=s.default.theme[this.fillForm.classify]||[]},pdata:function(t){this.fillForm=this.$_.cloneDeep(t)}},methods:{onCommitClick:function(){var t=this;this.$refs.fillForm.validate(function(e){if(e){t.isLoading=!0;var i=t.$_.clone(t.fillForm,!0);i.managerId=t.userInfo&&t.userInfo._id,i.managerRole=t.userInfo&&t.userInfo.role,t.$apis.updateNiceLinks(i).then(function(){t.isLoading=!1,t.isShowDlgFlag=!1,t.$message({message:t.$t("successAddTip"),type:"success"}),t.$emit("update-success")}).catch(function(e){t.isLoading=!1,t.$message.error(""+e)})}})}},locales:{en:{successAddTip:"Well, you have successfully added the link"},zh:{successAddTip:"干的漂亮，您已成功修改该链接"}}}},438:function(t,e,i){var s=i(9)(i(437),i(436),null,null);t.exports=s.exports},439:function(t,e,i){"use strict";i.r(e);var s=i(28),a=i.n(s),n=i(438),l=i.n(n),o=i(7),r=i(408);e.default={name:"ManageLinks",mixins:[r.a],data:function(){return{title:this.$t("manageLinks"),isLoading:!1,isShowDlgFlag:!1,activeName:"first",classifyList:o.default.classify,themeList:o.default.theme,tableData:[],tableControl:{totalCount:30,pageCount:1,pageSize:20,sortType:-1,sortTarget:"created"},currentRowData:{}}},components:{EditDialog:l.a},created:function(){this.initFetch()},watch:{activeName:function(){this.initFetch()}},methods:{initFetch:function(){var t=this,e={};a()(e,this.tableControl),e.active="first"!==this.activeName,this.isLoading=!0,this.$apis.getAllLinks(e).then(function(e){t.isLoading=!1,t.tableData=e}).catch(function(e){t.isLoading=!1,t.$message.error(""+e)}).finally(function(){t.isLoading=!1}),this.$apis.getAllLinksCount(e).then(function(e){t.tableControl.totalCount=e}).catch(function(){})},fillThemeName:function(t,e){var i="";return this.themeList[t].map(function(t){t.value===e&&(i=t.key)}),i},handleClick:function(){},handleSizeChange:function(t){this.tableControl.pageSize=t,this.initFetch()},handleCurrentChange:function(t){this.tableControl.pageCount=t,this.initFetch()},handleEdit:function(t){this.isShowDlgFlag=!0,this.currentRowData=t},handleDelete:function(t){var e=this;this.$confirm("此操作将永久删除该条目, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.operatorId=e.userInfo&&e.userInfo._id,e.isLoading=!0,e.$apis.deleteNiceLinks(t).then(function(){e.$message({type:"success",message:"删除成功!"}),e.initFetch(),e.isLoading=!1}).catch(function(t){e.isLoading=!1,e.$message.error(""+t)})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},onUpdateSuccess:function(){this.initFetch()},onCreaterClick:function(t){this.$router.push("/member/"+t)}},locales:{en:{approved:"Approved",unapproved:"Unapproved",isActived:"Is Actived",creater:"Creater"},zh:{approved:"已审核",unapproved:"未审核",isActived:"是否已激活",creater:"创建者"}}}},441:function(){},446:function(t){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrapper",attrs:{id:"share-link"}},[i("div",{directives:[{name:"loading",rawName:"v-loading.body",value:t.isLoading,expression:"isLoading",modifiers:{body:!0}}],staticClass:"panel-default"},[i("div",{staticClass:"panel-body"},[i("div",{staticClass:"main-container"},[i("div",{staticClass:"entry-list"},[i("h3",{staticClass:"share-title"},[t._v(t._s(t.$t("shareNewLink")))]),t._v(" "),i("section",{staticClass:"form form-horizontal"},[i("el-form",{ref:"fillForm",attrs:{model:t.fillForm,rules:t.rules}},[i("div",{staticClass:"form-group"},[i("div",{staticClass:"col-sm-12"},[i("el-form-item",{attrs:{prop:"urlPath"}},[i("el-input",{attrs:{placeholder:t.$t("pleaseEnter")+t.$t("linkAddressStr")},on:{blur:t.getLinkPageData},model:{value:t.fillForm.urlPath,callback:function(e){t.$set(t.fillForm,"urlPath",e)},expression:"fillForm.urlPath"}})],1)],1)]),t._v(" "),i("div",{staticClass:"form-group"},[i("div",{staticClass:"col-sm-12"},[i("el-form-item",{attrs:{prop:"title"}},[i("el-input",{attrs:{placeholder:t.$t("pleaseEnter")+t.$t("linkNameStr")},model:{value:t.fillForm.title,callback:function(e){t.$set(t.fillForm,"title",e)},expression:"fillForm.title"}})],1)],1)]),t._v(" "),i("div",{staticClass:"form-group"},[i("div",{staticClass:"col-sm-12"},[i("el-form-item",{attrs:{prop:"classify"}},[i("el-select",{staticClass:"wrap-block",attrs:{placeholder:t.$t("pleaseSelect")+t.$t("linkClassifyStr")},model:{value:t.fillForm.classify,callback:function(e){t.$set(t.fillForm,"classify",e)},expression:"fillForm.classify"}},t._l(t.classifyList,function(e){return i("el-option",{key:e.value,attrs:{label:t.$t(e.name),value:e.value}})}))],1)],1)]),t._v(" "),i("div",{staticClass:"form-group"},[i("div",{staticClass:"col-sm-12"},[i("el-form-item",{attrs:{prop:"theme"}},[i("el-select",{staticClass:"wrap-block",attrs:{placeholder:t.$t("pleaseSelect")+t.$t("linkThemeStr")},model:{value:t.fillForm.theme,callback:function(e){t.$set(t.fillForm,"theme",e)},expression:"fillForm.theme"}},t._l(t.themeList,function(e){return i("el-option",{key:e.key,attrs:{label:"en"===t.$getCurrentLang()?e.value:e.key,value:e.value}})}))],1)],1)]),t._v(" "),i("div",{staticClass:"form-group"},[i("div",{staticClass:"col-sm-12"},[i("el-form-item",{attrs:{prop:"tags"}},[i("el-select",{staticClass:"wrap-block",attrs:{"allow-create":"",multiple:"",filterable:"","multiple-limit":3,placeholder:t.$t("pleaseSelect")+t.$t("linkTagsStr")},model:{value:t.fillForm.tags,callback:function(e){t.$set(t.fillForm,"tags",e)},expression:"fillForm.tags"}},t._l(t.tagsList,function(t,e){return i("el-option",{key:e,attrs:{label:t,value:t}})}))],1)],1)]),t._v(" "),i("div",{staticClass:"form-group"},[i("div",{staticClass:"col-sm-12"},[i("el-form-item",{attrs:{prop:"keywords"}},[i("el-input",{attrs:{type:"textarea",maxlength:360,autosize:{minRows:3,maxRows:10},placeholder:t.$t("linkKeywordStr")},model:{value:t.fillForm.keywords,callback:function(e){t.$set(t.fillForm,"keywords",e)},expression:"fillForm.keywords"}})],1)],1)]),t._v(" "),i("div",{staticClass:"form-group"},[i("div",{staticClass:"col-sm-12"},[i("el-form-item",{attrs:{prop:"desc"}},[i("el-input",{attrs:{type:"textarea",maxlength:360,autosize:{minRows:5,maxRows:10},placeholder:t.$t("linkDescStr")},model:{value:t.fillForm.desc,callback:function(e){t.$set(t.fillForm,"desc",e)},expression:"fillForm.desc"}})],1)],1)]),t._v(" "),i("div",{staticClass:"form-group"},[i("div",{staticClass:"col-sm-12"},[i("el-form-item",{attrs:{prop:"review"}},[i("markdown",{attrs:{placeholder:t.$t("linkReviewStr")},model:{value:t.fillForm.review,callback:function(e){t.$set(t.fillForm,"review",e)},expression:"fillForm.review"}})],1)],1)])])],1),t._v(" "),i("div",{staticClass:"operate-area"},[i("el-button",{on:{click:t.onResetClick}},[t._v("\n              "+t._s(this.$t("reset"))+"\n            ")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.onPublishClick}},[t._v("\n              "+t._s(this.$t("publish"))+"\n            ")])],1)]),t._v(" "),i("aside-list")],1)])])])},staticRenderFns:[]}},447:function(t,e,i){"use strict";i.r(e);var s=i(7),a=i(408),n=i(409),l=i.n(n);e.default={name:"ShareLink",mixins:[a.a],data:function(){return{title:this.$t("shareNewLink"),isLoading:!1,fillForm:{urlPath:"",title:"",desc:"",keywords:"",classify:"",theme:"",tags:[],review:""},themeList:[],tagsList:s.default.tags,classifyList:s.default.classify,rules:{urlPath:[{required:!0,validator:this.$verifyUrl,trigger:"change,blur"}],title:[{required:!0,message:this.$t("pleaseEnter")+this.$t("linkNameStr"),trigger:"change,blur"}],theme:[{required:!0,message:this.$t("pleaseSelect")+this.$t("linkThemeStr"),trigger:"change,blur"}],classify:[{required:!0,message:this.$t("pleaseSelect")+this.$t("linkClassifyStr"),trigger:"change,blur"}]}}},props:{value:{type:Boolean,default:!1}},components:{Markdown:l.a},computed:{},watch:{"fillForm.classify":function(){this.themeList=s.default.theme[this.fillForm.classify]||[]}},methods:{getLinkPageData:function(){var t=this;this.fillForm.urlPath&&(this.$_.endsWith(this.fillForm.urlPath,"/")||(this.fillForm.urlPath+="/"),this.$apis.crawlLinksInfo({url:this.fillForm.urlPath}).then(function(e){t.fillForm.title=e.title,t.fillForm.desc=e.desc,t.fillForm.keywords=e.keywords}).catch(function(e){t.$message.error(""+e)}))},resetForm:function(){this.$refs.fillForm.resetFields()},onResetClick:function(){this.resetForm()},onPublishClick:function(){var t=this;this.$refs.fillForm.validate(function(e){if(e){t.isLoading=!0;var i=t.$_.clone(t.fillForm,!0);i.userId=t.userInfo&&t.userInfo._id,i.role=t.userInfo&&t.userInfo.role,i.createdBy=t.userInfo&&t.userInfo.username,t.$apis.addNiceLinks(i).then(function(){t.isLoading=!1,t.$message({message:t.$t("successAddTip"),type:"success"}),t.resetForm()}).catch(function(e){t.isLoading=!1,t.$message.error(""+e)})}})}},locales:{en:{successAddTip:"Well, you have successfully added the link，Pending audit."},zh:{successAddTip:"很好，您已成功添加该链接，正在待审核中."}}}},449:function(){},450:function(t){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrapper",attrs:{id:"theme-coll-page"}},[i("div",{directives:[{name:"loading",rawName:"v-loading.body",value:t.isLoading,expression:"isLoading",modifiers:{body:!0}}],staticClass:"panel-default"},[i("div",{staticClass:"panel-body"},[i("div",{staticClass:"main-container"},[i("div",{staticClass:"entry-list"},[i("h3",{staticClass:"classify-title"},[t._v(t._s(t.$t("themeCollection")))]),t._v(" "),t._l(t.themeList,function(e,s){return i("div",{key:s},t._l(e,function(e){return i("el-button",{key:e.value,staticClass:"radius-btn",attrs:{type:"text"},on:{click:function(){t.onItemClick(e)}}},[t._v("\n              "+t._s(e.key)+"\n            ")])}))})],2),t._v(" "),i("aside-list")],1)])])])},staticRenderFns:[]}},451:function(t,e,i){"use strict";i.r(e);var s=i(7),a=i(408);e.default={name:"ThemeCollections",mixins:[a.a],data:function(){return{title:this.$t("themeCollection"),isLoading:!1,classifyList:s.default.classify,themeList:s.default.theme}},watch:{},created:function(){},mounted:function(){},methods:{onItemClick:function(t){this.$switchRouteByTheme(t.value)}}}},453:function(){},458:function(t){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrapper",attrs:{id:"tags-coll-page"}},[i("div",{directives:[{name:"loading",rawName:"v-loading.body",value:t.isLoading,expression:"isLoading",modifiers:{body:!0}}],staticClass:"panel-default"},[i("div",{staticClass:"panel-body"},[i("div",{staticClass:"main-container"},[i("div",{staticClass:"entry-list"},[i("h3",{staticClass:"classify-title"},[t._v(t._s(t.$t("tagsCollection")))]),t._v(" "),t._l(t.tagsList,function(e){return i("el-button",{key:e,staticClass:"radius-btn",attrs:{type:"text"},on:{click:function(){t.onItemClick(e)}}},[t._v(t._s(e)+"\n          ")])})],2),t._v(" "),i("aside-list")],1)])])])},staticRenderFns:[]}},459:function(t,e,i){"use strict";i.r(e);var s=i(408);e.default={name:"TagsCollections",mixins:[s.a],data:function(){return{title:this.$t("tagsCollection"),isLoading:!1,tagsList:[]}},watch:{},created:function(){var t=this;this.$apis.getAllTags().then(function(e){t.tagsList=t.$_.flattenDepth(e.sort())}).catch(function(e){t.isLoading=!1,t.$message.error(""+e)})},mounted:function(){},methods:{onItemClick:function(t){this.$router.push("/tags/"+t)}}}},461:function(){},471:function(t){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrapper homepage"},[i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],staticClass:"panel-default"},[i("div",{staticClass:"panel-body"},[i("div",{staticClass:"main-container"},[i("div",{staticClass:"entry-list"},[i("el-card",{staticClass:"box-card"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("el-breadcrumb",{attrs:{separator:"/"}},[i("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v(t._s(t.$t("homePage")))]),t._v(" "),i("el-breadcrumb-item",[t._v(t._s(t.$t("homepage")))])],1)],1),t._v(" "),i("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-tab-pane",{attrs:{name:"BaseInfo",label:(t.isUserSelf,t.$t("baseInfo"))}}),t._v(" "),i("el-tab-pane",{attrs:{name:"MyPublish",label:t.isUserSelf?t.$t("myPublish"):t.$t("hisPublish")}}),t._v(" "),i("el-tab-pane",{attrs:{name:"MyLikes",label:t.isUserSelf?t.$t("myLikes"):t.$t("hisLikes")}}),t._v(" "),t.isUserSelf?i("el-tab-pane",{attrs:{name:"MyDislikes",label:t.isUserSelf?t.$t("myDislikes"):t.$t("hisDislikes")}}):t._e()],1),t._v(" "),t.isShowBaseInfo?i("el-card",{staticClass:"box-card base-info"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("img",{staticClass:"avatar",attrs:{src:t.userAvatar,alt:"User Avatar"}}),t._v(" "),i("div",{staticClass:"info"},[i("p",{staticClass:"username"},[t._v(t._s(t.mUserInfo.username))]),t._v(" "),t.mUserInfo.profile.nickname?i("p",{staticClass:"nickname"},[t._v("\n                    "+t._s(t.mUserInfo.profile.nickname)+"\n                  ")]):t._e(),t._v(" "),i("span",{staticClass:"gray",domProps:{innerHTML:t._s(t.nicerNumText)}})])]),t._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"col-sm-3 control-label"},[t._v(t._s(t.$t("personalWebsite"))+":")]),t._v(" "),i("div",{staticClass:"col-sm-9"},[t.mUserInfo.profile.website?i("el-button",{attrs:{type:"text"},on:{click:function(){t.onLinkClick(t.mUserInfo.profile)}}},[t._v("\n                    "+t._s(t.mUserInfo.profile.website)+"\n                  ")]):i("p",{staticClass:"text-padding gray"},[t._v("\n                    "+t._s(t.$t("noFill"))+"\n                  ")])],1)]),t._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"col-sm-3 control-label"},[t._v(t._s(t.$t("profile"))+":")]),t._v(" "),i("div",{staticClass:"col-sm-9"},[i("preview-md",{attrs:{value:t.mUserInfo.profile.description||t.$t("noFill")}}),t._v(" "),i("p",{staticClass:"text-padding gray"})],1)])]):i("links-list",{attrs:{pdata:t.myLinksList,"is-abstract":!0,"is-loading":t.isLoading}})],1)],1),t._v(" "),i("aside-list")],1)])])])},staticRenderFns:[]}},472:function(t,e,i){"use strict";i.r(e);var s=i(408),a=i(59),n=i.n(a);e.default={name:"HomePage",mixins:[s.a],components:{PreviewMd:n.a},data:function(){return{title:this.$t("homepage"),isLoading:!1,isShowBaseInfo:!0,activeName:"BaseInfo",myLinksList:[],mUserInfo:{profile:{}},nicerNumText:"",tabApiObj:{MyPublish:"getMyPublish",MyLikes:"getMyLikes",MyDislikes:"getMyDislikes"},tabDataObj:{MyPublish:null,MyLikes:null,MyDislikes:null}}},computed:{isUserSelf:function(){return this.userInfo&&this.userInfo.username===this.$route.params.id},userAvatar:function(){if(this.mUserInfo){var t=this.mUserInfo.profile&&this.mUserInfo.profile.avatar;return t?"/api/avatar/"+t:"https://image.nicelinks.site/default-avatar.jpeg"}}},created:function(){this.getUserInfoByUsername()},watch:{$lang:function(){this.updateDetailInfo()}},methods:{getUserInfoByUsername:function(){var t=this;this.isLoading=!0;var e={username:this.$route.params.id};this.$apis.getUserInfo(e).then(function(e){t.mUserInfo=e,t.updateDetailInfo()}).catch(function(e){t.$message.error(""+e)}).finally(function(){t.isLoading=!1})},updateDetailInfo:function(){var t=this.$t("nicerNumText").replace("@X",this.mUserInfo.number||1),e=this.mUserInfo.activeTime||this.mUserInfo.createdAt;e=new Date(e).Format("yyyy-MM-dd hh:mm:ss"),this.nicerNumText=t.replace("@TIME",e)},requestApiUpdateList:function(t){var e=this;if(this.tabDataObj[t])this.myLinksList=this.tabDataObj[t];else{var i=this.tabApiObj[t],s={username:this.$route.params.id,userId:this.userInfo&&this.userInfo._id||""};this.isLoading=!0,this.$apis[i](s).then(function(i){e.myLinksList=e.tabDataObj[t]=i,e.isLoading=!1}).catch(function(t){e.$message.error(""+t),e.isLoading=!0})}},handleClick:function(t){this.isShowBaseInfo="BaseInfo"===t.name,"BaseInfo"!==t.name&&this.requestApiUpdateList(t.name)},onLinkClick:function(t){t.website&&(document.location.href=t.website)}},locales:{en:{baseInfo:"Base Information",myPublish:"My Publish",myLikes:"My Likes",myDislikes:"My Dislikes",hisPublish:"His Publish",hisLikes:"His Likes",hisDislikes:"His Dislikes",nicerNumText:"<a href='/'>NICE LINKS</a> Member No. @X, Join in @TIME",noFill:"Not yet filled"},zh:{baseInfo:"基本信息",myPublish:"我的发布",myLikes:"我的点赞",myDislikes:"我的狂踩",hisPublish:"他的发布",hisLikes:"他的点赞",hisDislikes:"他的狂踩",nicerNumText:"<a href='/'>倾城之链</a>第 @X 号成员，加入于 @TIME",noFill:"暂未填写"}}}},474:function(){},479:function(t){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrapper"},[i("div",{directives:[{name:"loading",rawName:"v-loading.body",value:t.isLoading,expression:"isLoading",modifiers:{body:!0}}],staticClass:"panel-default"},[i("div",{staticClass:"panel-body"},[i("div",{staticClass:"main-container"},[i("div",{staticClass:"entry-list"},[i("el-card",{staticClass:"box-card"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("el-breadcrumb",{attrs:{separator:"/"}},[i("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v(t._s(t.$t("homePage")))]),t._v(" "),i("el-breadcrumb-item",[t._v(t._s(t.$t("resetPwd")))])],1)],1),t._v(" "),t.tipMessageObj.message?i("div",{staticClass:"form-group"},[i("el-alert",{attrs:{title:t.tipMessageObj.message,type:t.tipMessageObj.type}})],1):t._e(),t._v(" "),i("el-form",{ref:"validateForm",attrs:{model:t.fillForm,rules:t.rules}},[t.isShowFillPwd?i("div",{staticClass:"form-group"},[i("label",{staticClass:"col-sm-3 control-label"},[t._v(t._s(t.$t("resetNewPwd"))+":")]),t._v(" "),i("div",{staticClass:"col-sm-9"},[i("el-form-item",{attrs:{prop:"password"}},[i("el-input",{attrs:{placeholder:"",type:"password"},model:{value:t.fillForm.password,callback:function(e){t.$set(t.fillForm,"password","string"==typeof e?e.trim():e)},expression:"fillForm.password"}})],1)],1)]):i("div",{staticClass:"form-group"},[i("label",{staticClass:"col-sm-3 control-label"},[t._v(t._s(t.$t("registeredMailbox"))+":")]),t._v(" "),i("div",{staticClass:"col-sm-9"},[i("el-form-item",{attrs:{prop:"email"}},[i("el-input",{attrs:{placeholder:""},model:{value:t.fillForm.email,callback:function(e){t.$set(t.fillForm,"email","string"==typeof e?e.trim():e)},expression:"fillForm.email"}})],1)],1)])]),t._v(" "),i("div",{staticClass:"form-group"},[i("div",{staticClass:"col-sm-offset-3 col-sm-9"},[i("el-button",{attrs:{type:"primary"},on:{click:t.onResetClick}},[t._v(t._s(t.$t("resetPwd")))])],1)])],1)],1),t._v(" "),i("aside-list")],1)])])])},staticRenderFns:[]}},480:function(t,e,i){"use strict";i.r(e);var s=i(408);e.default={name:"Setting",mixins:[s.a],components:{},data:function(){return{title:this.$t("resetPwd"),isLoading:!1,isShowFillPwd:!1,fillForm:{email:"",password:""},tipMessageObj:{message:"",type:""},operateFun:{"/forgot-pwd":"requestResetPwd","/reset-pwd":"launchResetPwd"},rules:{email:[{required:!0,validator:this.validateEmail,trigger:"change,blur"}],password:[{required:!0,validator:this.validatePassword,trigger:"change,blur"}]}}},mounted:function(){this.$util.getUrlParam("resetPasswordToken")&&(this.isShowFillPwd=!0)},methods:{launchRequest:function(t){var e=this;this.$refs.validateForm.validate(function(i){i&&(e.isLoading=!1,e.$apis.requestResetPwd(t).then(function(t){e.tipMessageObj={message:t,type:"success"}}).catch(function(t){e.isLoading=!1,e.tipMessageObj={message:t,type:"error"}}))})},validateEmail:function(t,e,i){!e||0>=e.length?i(new Error(this.$t("enterEmailTip"))):this.$util.isLegalEmail(e)?i():i(new Error(this.$t("enterLegalEmailTip")))},validatePassword:function(t,e,i){!e||0>=e.length?i(new Error(this.$t("enterPwdTip"))):this.$util.isLegalPassword(e)?i():i(new Error(this.$t("enterLegalPwdTip")))},requestResetPwd:function(){var t={email:this.fillForm.email};this.launchRequest(t)},launchResetPwd:function(){var t={resetPasswordToken:this.$util.getUrlParam("resetPasswordToken"),password:this.$util.encryptPwd(this.fillForm.password),email:this.$util.getUrlParam("email")};this.launchRequest(t)},onResetClick:function(){this[this.operateFun[this.$route.path]]()}},locales:{zh:{resetPwd:"重设密码",registeredMailbox:"注册邮箱",resetNewPwd:"设新密码"},en:{resetPwd:"Reset Password",registeredMailbox:"Registered Mailbox",resetNewPwd:"Reset New Password"}}}},522:function(t,e,i){i(419);var s=i(9)(i(417),i(416),null,null);t.exports=s.exports}}]);